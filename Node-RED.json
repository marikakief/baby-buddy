[
    {
        "id": "b063717f88e1c168",
        "type": "tab",
        "label": "Baby Doe",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9f3b7f9c759a73e8",
        "type": "group",
        "z": "b063717f88e1c168",
        "name": "Notification Management",
        "style": {
            "fill": "#ffbfbf",
            "label": true,
            "color": "#000000",
            "label-position": "n"
        },
        "nodes": [
            "21330d2434335343",
            "3deb7288bb6a9976",
            "2c3e9fadd6122547",
            "3c0bb9bc6d054734",
            "806914d405dba6b0",
            "8b55f5f81cdd6fce",
            "368d7bea39cc6c31",
            "50c31efed7f16984",
            "a67172b2e6c94d3d",
            "46ef69478d414afd",
            "1c3bfe80380ebffb",
            "3ddabba0babe5960",
            "482b3c0e88e937ee",
            "14b28d990df3354a"
        ],
        "x": 1964,
        "y": 399,
        "w": 1142,
        "h": 322
    },
    {
        "id": "58c106fac32b5e9d",
        "type": "group",
        "z": "b063717f88e1c168",
        "name": "",
        "style": {
            "fill": "#bfdbef",
            "fill-opacity": "0.6",
            "label": true
        },
        "nodes": [
            "5a275e3ed6fe0a7c",
            "a4d8cb6c1f8f811f",
            "dc098699d89f5927",
            "c7092486ddfd728b",
            "6bc12084a3c33f40",
            "a30efc668b340227",
            "79f518068c8c2a47",
            "6ad6d021beb859ca",
            "49f4afdc24716bf7",
            "aa5761fcae9aa172",
            "2addf9b20f14bffb",
            "9b4d51356e1b8cd3",
            "60d673045e90bf73",
            "596bf95d3c811f2a",
            "381eb6bbcfe32db5",
            "9d90b13f519ddb42",
            "21ef84f3962b6a71",
            "7d4332b62f76f434"
        ],
        "x": 54,
        "y": 159,
        "w": 992,
        "h": 282
    },
    {
        "id": "46300616a8925dbb",
        "type": "group",
        "z": "b063717f88e1c168",
        "name": "",
        "style": {
            "fill": "#c8e7a7",
            "fill-opacity": "0.75",
            "label": true
        },
        "nodes": [
            "318f37484eb1531f",
            "c26c51243c503712",
            "02172a89cd85788d",
            "d8e3f39865d53dd5",
            "a2dd1ea324992752",
            "3dc5aa01eee0f354",
            "8ef456321286209e",
            "b5042861f7ae64c9",
            "8c651c6450ec8539",
            "1584f52e593b0db8",
            "540e485ca53a989b",
            "0e61547fb848f6b4",
            "2c2148504b4cf6f0",
            "dd4292c00649b1d3",
            "9cfa289835f9a92f",
            "9704a775f9f1ca74",
            "fbb6d05f86f846b4",
            "71c4e1c7afc02982",
            "1e7a6c4bd6fb7cd0",
            "e054db04dcee01d7",
            "bf80c0545507037d",
            "797b6ddc9ac1cab7",
            "6bb7dbd8b665b36d",
            "a52fafe863d7f59f",
            "8e95dd7e92361e5d",
            "d2671754844a712f",
            "a5547561515b81b1",
            "e866b9e8f52c56b0",
            "6b1826540f4f3aa0",
            "c26eefc0d8192d0d",
            "3cba8c211f390db2",
            "2649e31562aeedd4",
            "8f5d089410e249cb",
            "70cf0a01a2222048",
            "2fdfb6fe77579c34",
            "dc1232a69ebac240",
            "7b16e1edc9597ffd",
            "b6b796918d79d7e5",
            "9b2204b51151dde6",
            "4bdd807bacd551c0",
            "cc9956d890799c30",
            "7cdd61c9d0301ca0",
            "51aa7901014415a4",
            "8120f5ee90e4fb65",
            "ac91cf03b075dd0f",
            "0a94d93e95cc1136"
        ],
        "x": 44,
        "y": 1339,
        "w": 1602,
        "h": 502
    },
    {
        "id": "4dc53514fd3adfe6",
        "type": "group",
        "z": "b063717f88e1c168",
        "name": "",
        "style": {
            "fill": "#b797cf",
            "fill-opacity": "0.65",
            "label": true
        },
        "nodes": [
            "368f73f7381b77b4",
            "737d94c7ba80c911",
            "90736819c9887fbc",
            "167c005a28afe7ab",
            "253f9531e8f5f18a",
            "32aaf880cf3b4b25",
            "dfd12c1601233481",
            "4a7325da61ef57e9",
            "3f6a115e4dde2dd6",
            "678c8ee960eb3402",
            "7b1da3abf26551cd",
            "bd018deaa41270e0",
            "568ea265d1a27a4e",
            "010261ffbb28f6b0",
            "17b56c067f42cb5d",
            "40c8ef98037e9f85",
            "ee7a967f41092954",
            "5d4ece633604af09",
            "b609d8446e990139",
            "c7a2595dea5d56e8",
            "157afcf80e31db8f",
            "8d69826efe9ac3a8",
            "428c36ae7d8194d6",
            "3cf9d442c630bdae",
            "0f7717216271aa17",
            "8abf63da82c4b856",
            "0296569a5d7ab340",
            "cae131fe85ef7671",
            "16aba0cf78fadf50",
            "0a8a1e7e860dcade",
            "8d11eba6814dfee0",
            "5782ebf0137d9874",
            "4149ce895dfd76d8",
            "b115bca8e9ed189c",
            "fa3fb83ed235a2eb",
            "5c052b59f3c99e22",
            "c0347dc82fde07b1",
            "ac806476f2f86867"
        ],
        "x": 54,
        "y": 1959,
        "w": 1572,
        "h": 522
    },
    {
        "id": "aebb7d929f606069",
        "type": "group",
        "z": "b063717f88e1c168",
        "name": "",
        "style": {
            "fill": "#d1d1d1",
            "fill-opacity": "0.7",
            "label": true
        },
        "nodes": [
            "8b2ae1696564beb3",
            "ba70e49e67051d65",
            "5782251d04a8d766",
            "6362bf8741501fb7",
            "a5a2980c6aa6ab50",
            "2467f26dabe0aa4a",
            "7df03e6a32e477dd",
            "36493ae8b428150f",
            "50eb41a4debd06ff",
            "086917ccda259c76",
            "ece6c6c9af80f56e",
            "972e1d57772a5029",
            "2df8dbb23ce2be39",
            "ac7aae8658d2b06e",
            "f0fab14f66d4ada3",
            "148b170ad722bfbe",
            "012da0b18723a39a",
            "8a8e2c1f77ea2a54",
            "b08e48dff1169887",
            "822e3fa51e1d7545",
            "cd49a7e3dbb20564",
            "098423c419a0abce",
            "902fc4e6ac745fc8",
            "ce93195092ce59d3",
            "d50acac4336dafd5",
            "a264a60852ea5143",
            "a541f05613e0296c",
            "4760c7fcf02bc1a9",
            "d3af89ac7970cdfd",
            "9366f45ee535abb6",
            "c8a95298917f8306",
            "62495ca1951df23d",
            "9f6931cc8f5e83f0",
            "3063449542c91a47",
            "5bac1c2eeb3fb5fd",
            "68ba8a191f6eae8e",
            "96ec60571082b310",
            "c29a17aa6c4adac1",
            "95bb8c9167f81120",
            "62358a2c5e6b559a",
            "8dab8790c19f1e57",
            "a55d7e5a1e412f39",
            "af94aaaa04426685",
            "b78e8ec42d6720ea",
            "64ed61c1f4f60599",
            "3901602d75770936",
            "06ca2ae7e99e1aae",
            "f512068190bacb69",
            "e96484cadd34891a",
            "446cd2e39ede653d"
        ],
        "x": 54,
        "y": 559,
        "w": 1562,
        "h": 662
    },
    {
        "id": "58d5846cea742cfd",
        "type": "group",
        "z": "b063717f88e1c168",
        "name": "",
        "style": {
            "fill": "#d1d1d1",
            "fill-opacity": "0.65",
            "label": true
        },
        "nodes": [
            "6eecca1e5eee1994",
            "9f60189df588ba8a",
            "b545efea6072bc8b",
            "d60f169c49850e78",
            "ee1da3b2b99f40c3",
            "455eb229bad3bae6",
            "eefe834b67301d1c"
        ],
        "x": 1974,
        "y": 179,
        "w": 1082,
        "h": 122
    },
    {
        "id": "01c9b058fcc6afb3",
        "type": "group",
        "z": "b063717f88e1c168",
        "name": "Error & Delay Handling",
        "style": {
            "stroke": "#3f93cf",
            "stroke-opacity": "0.65",
            "label": true,
            "fill": "#3f93cf",
            "fill-opacity": "0.65",
            "label-position": "n",
            "color": "#ffffff"
        },
        "nodes": [
            "72505a991a143eea",
            "1e024dc3818b91c7",
            "f6955813f59dd201",
            "0dc4de6fae92fba4",
            "e137d55819c9a6ee",
            "09aec21dcfc7bd39",
            "df89975567e1d0ac",
            "0b01bf46a9560f59",
            "4e8097dec6554512",
            "8ec626e95a9405e6",
            "9de43d98bfbcfa0d",
            "de5577adbe4045da",
            "fe2c010fd218a5ba",
            "fb80585425522006",
            "f857dacf4f1f1bec",
            "db7cc73ccdce966e",
            "4e1ac08512c2ca09",
            "80ca5b270ddde0c5",
            "1c8165e0cdbcbe76",
            "06550ea9e448951c",
            "c969db5b87201f21",
            "0e9ead6ad39b7dc6"
        ],
        "x": 1974,
        "y": 1979,
        "w": 1002,
        "h": 442
    },
    {
        "id": "b933e23ade7bbd21",
        "type": "group",
        "z": "b063717f88e1c168",
        "name": "API Calls for Additional Information",
        "style": {
            "fill": "#ffdf7f",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "6ed4dd223991dea6",
            "3824a2ced153017e",
            "e52ab1db7f75588b",
            "4a7cc27475efda94",
            "9b7c79e5e1708089",
            "1a2690e3da8e77c5",
            "a0647242a034422e",
            "fe1cfc9a1ed48c3a",
            "08a2d8aa1facb4fd",
            "bc1408eebc9cf319",
            "576d7e9880a15610",
            "ab805352365232c0",
            "7015c8b1d6ff7604",
            "ca3baeedc6a34760",
            "f8452d0462df8199",
            "7be2b9f2d4976dbd",
            "4e1076f69e2f3ead",
            "c06039fdbb1ffe0d",
            "42a6e81ca48b8aeb",
            "262367fd8898c30a",
            "8785ea8ec2bf9240",
            "f57b732b6695a10e",
            "34d7bb9cf4d76dd5",
            "d205f3956bef0c57",
            "4340917e5a1efbf4",
            "a4fc60979263f5ad",
            "77d638dd77557c46",
            "b9461331b029511c",
            "bb2408de26d98c4f",
            "beb9dddb4d2fb42f",
            "001e87ed538d72c2",
            "90f2732419094ec2",
            "bba7f7511d590e76",
            "9a3154a6a4f314bd",
            "1bfd6f61155dd9c3",
            "a1a889c202e7ca3c",
            "a2fede17aa141b89",
            "f2ae26738d335b2d",
            "a1c01c3a5193aac6",
            "c0bd65fc59452bb0",
            "dfa12d06536a571f",
            "96051e24970b8794",
            "f2a735a3bb755375",
            "da955a1f4d0e5996",
            "52672f29ee6ddc69",
            "1045c72dafaac4c5",
            "e1ee5999b669531f",
            "f9d4de9d84e1ad0b",
            "c1aedd160aeb7b19"
        ],
        "x": 1974,
        "y": 839,
        "w": 1272,
        "h": 1042
    },
    {
        "id": "f0a5b4f955443269",
        "type": "group",
        "z": "b063717f88e1c168",
        "name": "",
        "style": {
            "fill": "#ffff7f",
            "fill-opacity": "0.5",
            "label": true
        },
        "nodes": [
            "f837e9774eb38621",
            "287bba357d5793b5",
            "fe783d0ee65329c4",
            "9bd4d8ed66afda4e",
            "e065a04c84ec7240",
            "7499ae753def552c",
            "42b7d572f678f04e",
            "a39073d6222d5445",
            "1b93a1f3d8b0bb34",
            "7ca944b964406b6e",
            "00769993c27b5dc9",
            "2087d6bf69bf6e60",
            "742f8c02874e653a",
            "58ec5995963cd8a7",
            "de6bba9ced0c2625",
            "be9f320c9e70f552",
            "2672461a79583841",
            "a8af55d3ee6d12d4",
            "71b83599c5b608d3",
            "40b85e8b86567f01",
            "4332887b059ee5cf",
            "e952d4a24eca33c3",
            "44d8bf126c23dc45",
            "bca9743d1657fb10",
            "ae2f8a27173fc2ac",
            "10e7ebe54b281083",
            "fd1cc6af1a84f3ef",
            "f27c205eef988571",
            "4c1485808be45773"
        ],
        "x": 54,
        "y": 2599,
        "w": 1452,
        "h": 382
    },
    {
        "id": "e84c9c81258a1cb8",
        "type": "group",
        "z": "b063717f88e1c168",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "879607bf2ebad645",
            "36641767cb2f0d6e",
            "a5893c811790eb0c",
            "ca8ad5905fed16d1",
            "30a2f73096dee751",
            "ee85d4f3817c3ac0",
            "f8c71f31b910e159",
            "871a60996d9d79ac",
            "4c2e7abe0c7b3ea4",
            "2689ec149c087e9e",
            "254b55e61df4e9dd",
            "4a708b9fdc31e6eb",
            "afd23f745098f2a3",
            "b0a314279fc73dc0",
            "c62b81838e55c424",
            "f7c5b811b26266a4",
            "7c7760a39d9f22c4",
            "15d7a9046b096324",
            "ee657eaa7687247a",
            "f572a679e18b6055",
            "29999460f1078d89",
            "11c7a26201a7dad7"
        ],
        "x": 3254,
        "y": 839,
        "w": 372,
        "h": 882
    },
    {
        "id": "9c108cd9aef78e7d",
        "type": "group",
        "z": "b063717f88e1c168",
        "name": "",
        "style": {
            "fill": "#c8e7a7",
            "fill-opacity": "0.75",
            "label": true
        },
        "nodes": [
            "d142d540aae11720",
            "f37aca0bf20189bd",
            "ed3c7cbe402d78c8",
            "4e27bc08f9ca1482",
            "6644b2c4c51beafe",
            "c623a816ef11932a",
            "ca48f2de29b6330a",
            "6ae9659e202410a2",
            "54cb2ea1fd054759",
            "fbb0e1cb7c65f9d1",
            "2598b267204e8a18",
            "1a81b7e3cd7ab97e",
            "f387e7554029a867",
            "018725449cb4273e",
            "0bc205f3b9c9eb71",
            "eefc89fb320ebe5b",
            "178f21d4510475a6",
            "19c39d38dc2271a1",
            "3857cee5761943d4",
            "a12a1528148a54ed",
            "b57abc8dead62031",
            "95836378529ecfb8",
            "d3ee9ff85cf93528",
            "e23054df9587ae9e",
            "6f1b52cbab62e858",
            "2ac94fc6d5d52fb0",
            "91fa7ed81c919487",
            "bc2b629fc929b12e"
        ],
        "x": 54,
        "y": 3099,
        "w": 1452,
        "h": 382
    },
    {
        "id": "c0347dc82fde07b1",
        "type": "junction",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "x": 620,
        "y": 2000,
        "wires": [
            [
                "428c36ae7d8194d6"
            ]
        ]
    },
    {
        "id": "0a94d93e95cc1136",
        "type": "junction",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "x": 620,
        "y": 1380,
        "wires": [
            [
                "6b1826540f4f3aa0"
            ]
        ]
    },
    {
        "id": "bca9743d1657fb10",
        "type": "junction",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "x": 640,
        "y": 2640,
        "wires": [
            [
                "00769993c27b5dc9"
            ]
        ]
    },
    {
        "id": "d3ee9ff85cf93528",
        "type": "junction",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "x": 640,
        "y": 3140,
        "wires": [
            [
                "2598b267204e8a18"
            ]
        ]
    },
    {
        "id": "72505a991a143eea",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "Simple TITLE/MSG",
        "func": "var nodeName = msg.error.source.name;\nvar errorMsg = msg.error.message;\n\nmsg.payload = {\n    data: {\n        \"title\": \"API Error - \" + nodeName,\n        \"message\": \"The \" + errorMsg + \".\",\n        \"data\": {\n            \"group\": \"baby-buddy\",\n            \"color\": \"#FF0000\",\n            \"notification_icon\": \"mdi:alert\",\n            \"clickAction\": \"/mobile-h/baby-buddy\"\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2250,
        "y": 2020,
        "wires": [
            [
                "f6955813f59dd201"
            ]
        ]
    },
    {
        "id": "1e024dc3818b91c7",
        "type": "catch",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "",
        "scope": [
            "3c6b8dfdc91b6b2c",
            "ac7aae8658d2b06e",
            "8a8e2c1f77ea2a54",
            "1584f52e593b0db8",
            "32aaf880cf3b4b25",
            "3c0bb9bc6d054734",
            "806914d405dba6b0",
            "f512068190bacb69",
            "4e27bc08f9ca1482",
            "9bd4d8ed66afda4e"
        ],
        "uncaught": false,
        "x": 2060,
        "y": 2020,
        "wires": [
            [
                "72505a991a143eea",
                "0e9ead6ad39b7dc6"
            ]
        ]
    },
    {
        "id": "5782251d04a8d766",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Diaper",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_diaper",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 740,
        "wires": [
            [
                "6362bf8741501fb7",
                "086917ccda259c76"
            ]
        ]
    },
    {
        "id": "6362bf8741501fb7",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Diaper Type",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.bb_diaper_type",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 740,
        "wires": [
            [
                "a5a2980c6aa6ab50",
                "36493ae8b428150f"
            ]
        ]
    },
    {
        "id": "a5a2980c6aa6ab50",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Wet",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Solid",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Wet and Solid",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 450,
        "y": 740,
        "wires": [
            [
                "012da0b18723a39a"
            ],
            [
                "2467f26dabe0aa4a"
            ],
            [
                "2467f26dabe0aa4a"
            ]
        ]
    },
    {
        "id": "2467f26dabe0aa4a",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Color",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.bb_diaper_color",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 610,
        "y": 760,
        "wires": [
            [
                "7df03e6a32e477dd",
                "50eb41a4debd06ff"
            ]
        ]
    },
    {
        "id": "7df03e6a32e477dd",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 760,
        "wires": [
            [
                "f0fab14f66d4ada3"
            ],
            [
                "2df8dbb23ce2be39"
            ]
        ]
    },
    {
        "id": "36493ae8b428150f",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Set Flow Type",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "diaper_type",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "50eb41a4debd06ff",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Set Flow Color",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "diaper_color",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "086917ccda259c76",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Notes",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_text.bb_notes",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 840,
        "wires": [
            [
                "ece6c6c9af80f56e"
            ]
        ]
    },
    {
        "id": "ece6c6c9af80f56e",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Set Notes",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "notes",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 840,
        "wires": [
            [
                "972e1d57772a5029"
            ]
        ]
    },
    {
        "id": "972e1d57772a5029",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Clear Field",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.bb_notes"
        ],
        "data": "{\"value\":\"\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 690,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "2df8dbb23ce2be39",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "API",
        "func": "var diaperType = flow.get('diaper_type');\nvar color = flow.get('diaper_color');\nvar notes = flow.get('notes');\n\nmsg.payload = {\n    data: {\n        \"type\": diaperType,\n        \"color\": color,\n        \"notes\": notes\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 780,
        "wires": [
            [
                "ac7aae8658d2b06e"
            ]
        ]
    },
    {
        "id": "ac7aae8658d2b06e",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Diaper Change",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "babybuddy",
        "service": "add_diaper_change",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "sensor.baby_doe"
        ],
        "data": "{ }",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "date"
            },
            {
                "property": "tag",
                "propertyType": "msg",
                "value": "\"diaper_entry\"",
                "valueType": "jsonata"
            }
        ],
        "queue": "none",
        "x": 1120,
        "y": 780,
        "wires": [
            [
                "b08e48dff1169887",
                "822e3fa51e1d7545",
                "5bac1c2eeb3fb5fd",
                "3901602d75770936"
            ]
        ]
    },
    {
        "id": "f0fab14f66d4ada3",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Error Msg",
        "func": "msg.payload = {\n    data:{\n        \"title\": \"Diaper Details Not Set\",\n        \"message\": \"Diaper entry was submitted with missing details.\",\n        \"data\": {\n            \"actions\": [\n           {\n               \"action\": \"remindMe10minDiaper\",\n               \"title\": \"Remind Me (10 min)\"\n            },\n           {\n               \"action\": \"URI\",\n               \"title\": \"Re-Enter\",\n               \"uri\": \"/mobile-h/baby-buddy-diaper\"\n            }\n        ],\n            \"tag\": \"diaper_entry\",\n            \"group\": \"baby-buddy\",\n            \"color\": \"#F70202\",\n            \"notification_icon\": \"mdi:emoticon-poop\",\n            \"clickAction\": \"/mobile-h/baby-buddy-diaper\",\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 960,
        "y": 740,
        "wires": [
            [
                "b78e8ec42d6720ea"
            ]
        ]
    },
    {
        "id": "0dc4de6fae92fba4",
        "type": "server-events",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "Mobile Action Responses",
        "server": "efbeb294.51685",
        "version": 2,
        "eventType": "mobile_app_notification_action",
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 2110,
        "y": 2120,
        "wires": [
            [
                "e137d55819c9a6ee"
            ]
        ]
    },
    {
        "id": "e137d55819c9a6ee",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "",
        "property": "payload.event.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "remindMe10minDiaper",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2310,
        "y": 2120,
        "wires": [
            [
                "df89975567e1d0ac",
                "09aec21dcfc7bd39"
            ]
        ]
    },
    {
        "id": "09aec21dcfc7bd39",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "John Phone PERSISTENT Clear",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_john_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\t\t\"message\": \"clear_notification\",\t\t\"data\": {\t    \"tag\": \"diaper_entry\"\t    }\t}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2570,
        "y": 2080,
        "wires": [
            [
                "0b01bf46a9560f59"
            ]
        ]
    },
    {
        "id": "df89975567e1d0ac",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "Jane Phone PERSISTENT Clear",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_jane_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\t\t\"message\": \"clear_notification\",\t\t\"data\": {\t    \"tag\": \"diaper_entry\"\t    }\t}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2580,
        "y": 2120,
        "wires": [
            [
                "0b01bf46a9560f59"
            ]
        ]
    },
    {
        "id": "0b01bf46a9560f59",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2830,
        "y": 2120,
        "wires": [
            [
                "4e8097dec6554512"
            ]
        ]
    },
    {
        "id": "4e8097dec6554512",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "link out 8",
        "mode": "link",
        "links": [
            "148b170ad722bfbe"
        ],
        "x": 2935,
        "y": 2120,
        "wires": []
    },
    {
        "id": "148b170ad722bfbe",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "link in 9",
        "links": [
            "4e8097dec6554512"
        ],
        "x": 815,
        "y": 720,
        "wires": [
            [
                "f0fab14f66d4ada3"
            ]
        ]
    },
    {
        "id": "012da0b18723a39a",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Wet",
        "func": "var notes = flow.get('notes');\n\nmsg.payload = {\n    data: {\n        \"type\": \"Wet\",\n        \"notes\": notes\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 680,
        "wires": [
            [
                "8a8e2c1f77ea2a54"
            ]
        ]
    },
    {
        "id": "8a8e2c1f77ea2a54",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Diaper Change",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "babybuddy",
        "service": "add_diaper_change",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "sensor.baby_doe"
        ],
        "data": "{ }",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "date"
            }
        ],
        "queue": "none",
        "x": 780,
        "y": 680,
        "wires": [
            [
                "098423c419a0abce",
                "902fc4e6ac745fc8"
            ]
        ]
    },
    {
        "id": "b08e48dff1169887",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Clear Fields",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_first",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.bb_diaper_color",
            "input_select.bb_diaper_type"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1330,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "822e3fa51e1d7545",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Diaper Change Flow End",
        "mode": "link",
        "links": [
            "2c3e9fadd6122547",
            "90f2732419094ec2",
            "96ec60571082b310",
            "c17a58d0b8059a53"
        ],
        "x": 1275,
        "y": 900,
        "wires": []
    },
    {
        "id": "cd49a7e3dbb20564",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "link out 10",
        "mode": "link",
        "links": [
            "eacd0bbb23735c94",
            "96ec60571082b310"
        ],
        "x": 1055,
        "y": 680,
        "wires": []
    },
    {
        "id": "098423c419a0abce",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Clear Field",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_first",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.bb_diaper_type"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 950,
        "y": 680,
        "wires": [
            [
                "cd49a7e3dbb20564"
            ]
        ]
    },
    {
        "id": "318f37484eb1531f",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Feeding Method",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.bb_feeding_method",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 1560,
        "wires": [
            [
                "c26c51243c503712",
                "a2dd1ea324992752"
            ]
        ]
    },
    {
        "id": "c26c51243c503712",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 1560,
        "wires": [
            [
                "dd4292c00649b1d3"
            ],
            [
                "02172a89cd85788d"
            ]
        ]
    },
    {
        "id": "02172a89cd85788d",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Feeding Type",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.bb_feeding_type",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 620,
        "y": 1580,
        "wires": [
            [
                "d8e3f39865d53dd5",
                "3dc5aa01eee0f354"
            ]
        ]
    },
    {
        "id": "d8e3f39865d53dd5",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 1580,
        "wires": [
            [
                "9704a775f9f1ca74"
            ],
            [
                "fbb6d05f86f846b4"
            ]
        ]
    },
    {
        "id": "a2dd1ea324992752",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Feeding Method",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "feeding_method",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "3dc5aa01eee0f354",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Feeding Type",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "feeding_type",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "8ef456321286209e",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Notes",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_text.bb_notes",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 1660,
        "wires": [
            [
                "b5042861f7ae64c9"
            ]
        ]
    },
    {
        "id": "b5042861f7ae64c9",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Notes",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "notes",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 1660,
        "wires": [
            []
        ]
    },
    {
        "id": "8c651c6450ec8539",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "API",
        "func": "var timerStatus = flow.get('timer_status')\nvar feedingMethod = flow.get('feeding_method');\nvar feedingType = flow.get('feeding_type');\nvar amount = flow.get('feeding_amount');\nvar notes = flow.get('notes');\nvar timerTimestamp = flow.get('timer_timestamp');\nvar errorTimestamp = flow.get('error_timestamp');\n\nif (timerStatus == \"on\") {\n    if (errorTimestamp == \"0\") {\n        if (amount == 0) {\n            msg.payload = {\n                data: {\n                    \"timer\": true,\n                    \"method\": feedingMethod,\n                    \"type\": feedingType,\n                    \"notes\": notes\n                }\n            }\n        }\n        if (amount >= 0) {\n            msg.payload = {\n                data: {\n                    \"timer\": true,\n                    \"method\": feedingMethod,\n                    \"type\": feedingType,\n                    \"amount\": amount,\n                    \"notes\": notes\n                }\n            }\n        }\n    }\n    if (errorTimestamp != \"0\") {\n        if (amount == 0) {\n            msg.payload = {\n                data: {\n                    \"start\": timerTimestamp,\n                    \"end\": errorTimestamp,\n                    \"method\": feedingMethod,\n                    \"type\": feedingType,\n                    \"notes\": notes\n                }\n            }\n        }\n        if (amount >= 0) {\n            msg.payload = {\n                data: {\n                    \"start\": timerTimestamp,\n                    \"end\": errorTimestamp,\n                    \"method\": feedingMethod,\n                    \"type\": feedingType,\n                    \"amount\": amount,\n                    \"notes\": notes\n                }\n            }\n        }\n    }\n    return [msg, null];\n}\nif (timerStatus == \"off\") {\n    if (amount == 0) {\n        msg.payload = {\n            data: {\n                \"start\": timerTimestamp,\n                \"end\": errorTimestamp,\n                \"method\": feedingMethod,\n                \"type\": feedingType,\n                \"notes\": notes\n            }\n        }\n    }\n    if (amount >= 0) {\n        msg.payload = {\n            data: {\n                \"start\": timerTimestamp,\n                \"end\": errorTimestamp,\n                \"method\": feedingMethod,\n                \"type\": feedingType,\n                \"amount\": amount,\n                \"notes\": notes\n            }\n        }\n    }\n    return [null, msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1660,
        "wires": [
            [
                "1584f52e593b0db8"
            ],
            [
                "1584f52e593b0db8"
            ]
        ],
        "outputLabels": [
            "Timer On",
            "Timer Off"
        ]
    },
    {
        "id": "1584f52e593b0db8",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Feeding",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "babybuddy",
        "service": "add_feeding",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.baby_doe_timer"
        ],
        "data": "{ }",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "date"
            },
            {
                "property": "tag",
                "propertyType": "msg",
                "value": "\"feeding_entry\"",
                "valueType": "jsonata"
            }
        ],
        "queue": "none",
        "x": 1160,
        "y": 1660,
        "wires": [
            [
                "540e485ca53a989b",
                "0e61547fb848f6b4",
                "e054db04dcee01d7",
                "4bdd807bacd551c0"
            ]
        ]
    },
    {
        "id": "8ec626e95a9405e6",
        "type": "server-events",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "Mobile Action Responses",
        "server": "efbeb294.51685",
        "version": 2,
        "eventType": "mobile_app_notification_action",
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 2110,
        "y": 2260,
        "wires": [
            [
                "9de43d98bfbcfa0d"
            ]
        ]
    },
    {
        "id": "9de43d98bfbcfa0d",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "",
        "property": "payload.event.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "remindMe10minFeeding",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2310,
        "y": 2260,
        "wires": [
            [
                "fe2c010fd218a5ba",
                "de5577adbe4045da"
            ]
        ]
    },
    {
        "id": "de5577adbe4045da",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "John Phone PERSISTENT Clear",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_john_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\t\t\"message\": \"clear_notification\",\t\t\"data\": {\t    \"tag\": \"feeding_entry\"\t    }\t}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2570,
        "y": 2220,
        "wires": [
            [
                "fb80585425522006"
            ]
        ]
    },
    {
        "id": "fe2c010fd218a5ba",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "Jane Phone PERSISTENT Clear",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_jane_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\t\t\"message\": \"clear_notification\",\t\t\"data\": {\t    \"tag\": \"feeding_entry\"\t    }\t}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2580,
        "y": 2260,
        "wires": [
            [
                "fb80585425522006"
            ]
        ]
    },
    {
        "id": "fb80585425522006",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2830,
        "y": 2260,
        "wires": [
            [
                "f857dacf4f1f1bec"
            ]
        ]
    },
    {
        "id": "f857dacf4f1f1bec",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "link out 11",
        "mode": "link",
        "links": [
            "cb98e1df7aa3a8af",
            "9cfa289835f9a92f",
            "72c2faa37e93dc01",
            "daa0ea8beb64ddda"
        ],
        "x": 2935,
        "y": 2260,
        "wires": []
    },
    {
        "id": "540e485ca53a989b",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Clear Fields",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_first",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.bb_feeding_method",
            "input_select.bb_feeding_type"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1390,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "0e61547fb848f6b4",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Feeding Flow End",
        "mode": "link",
        "links": [
            "1bfd6f61155dd9c3",
            "2c3e9fadd6122547",
            "596bf95d3c811f2a",
            "beb9dddb4d2fb42f",
            "dc1232a69ebac240",
            "66454ced096a8e0d",
            "13241cbf9b1feff7"
        ],
        "x": 1335,
        "y": 1660,
        "wires": []
    },
    {
        "id": "2c2148504b4cf6f0",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Feeding",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_feeding",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 1560,
        "wires": [
            [
                "318f37484eb1531f",
                "8ef456321286209e",
                "7cdd61c9d0301ca0"
            ]
        ]
    },
    {
        "id": "dd4292c00649b1d3",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Error Msg",
        "func": "msg.payload = {\n    data:{\n        \"title\": \"Feeding Details Not Set\",\n        \"message\": \"Feeding entry was submitted with missing details.\",\n        \"data\": {\n            \"actions\": [\n           {\n               \"action\": \"remindMe10minFeeding\",\n               \"title\": \"Remind Me (10 min)\"\n            },\n           {\n               \"action\": \"URI\",\n               \"title\": \"Re-Enter\",\n               \"uri\": \"/mobile-h/baby-buddy-feeding\"\n            }\n        ],\n            \"tag\": \"feeding_entry\",\n            \"group\": \"baby-buddy\",\n            \"color\": \"#F70202\",\n            \"notification_icon\": \"mdi:mother-nurse\",\n            \"clickAction\": \"/mobile-h/baby-buddy-feeding\",\n    }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1460,
        "wires": [
            [
                "2fdfb6fe77579c34",
                "9b2204b51151dde6"
            ]
        ]
    },
    {
        "id": "9cfa289835f9a92f",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "link in 13",
        "links": [
            "f857dacf4f1f1bec",
            "9704a775f9f1ca74"
        ],
        "x": 675,
        "y": 1500,
        "wires": [
            [
                "dd4292c00649b1d3"
            ]
        ]
    },
    {
        "id": "9704a775f9f1ca74",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "link out 13",
        "mode": "link",
        "links": [
            "9cfa289835f9a92f",
            "72c2faa37e93dc01"
        ],
        "x": 875,
        "y": 1540,
        "wires": []
    },
    {
        "id": "fbb6d05f86f846b4",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Amount",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_number.bb_amount",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 960,
        "y": 1580,
        "wires": [
            [
                "71c4e1c7afc02982"
            ]
        ]
    },
    {
        "id": "71c4e1c7afc02982",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Amount",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "feeding_amount",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1110,
        "y": 1580,
        "wires": [
            [
                "8c651c6450ec8539",
                "1e7a6c4bd6fb7cd0"
            ]
        ]
    },
    {
        "id": "1e7a6c4bd6fb7cd0",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Clear Field",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_number.bb_amount"
        ],
        "data": "{\t    \"value\":0\t}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1390,
        "y": 1540,
        "wires": [
            []
        ]
    },
    {
        "id": "e054db04dcee01d7",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Clear Field",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.bb_notes"
        ],
        "data": "{\"value\":\"\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1390,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "167c005a28afe7ab",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Pumping",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_pumping",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 2220,
        "wires": [
            [
                "678c8ee960eb3402",
                "fa3fb83ed235a2eb"
            ]
        ]
    },
    {
        "id": "253f9531e8f5f18a",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "API",
        "func": "var amount = flow.get('pumping_amount');\nvar notes = flow.get('notes');\nvar errorTimestamp = flow.get('error_timestamp');\n\nif (errorTimestamp != \"0\") {\n    if (amount != 0 && notes != \"\") {\n        msg.payload = {\n            data: {\n                \"time\": errorTimestamp,\n                \"amount\": amount,\n                \"notes\": notes\n            }\n        }\n        return [msg, null];\n    }\n\n    if (notes == \"\" && amount != 0) {\n        msg.payload = {\n            data: {\n                \"time\": errorTimestamp,\n                \"amount\": amount\n            }\n        }\n        return [null, msg];\n    }\n}\nif (errorTimestamp == \"0\") {\n    if (amount != 0 && notes != \"\") {\n        msg.payload = {\n            data: {\n                \"amount\": amount,\n                \"notes\": notes\n            }\n        }\n        return [msg, null];\n    }\n\n    if (notes == \"\" && amount != 0) {\n        msg.payload = {\n            data: {\n                \"amount\": amount\n            }\n        }\n        return [null, msg];\n    }\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 2340,
        "wires": [
            [
                "32aaf880cf3b4b25"
            ],
            [
                "32aaf880cf3b4b25"
            ]
        ],
        "outputLabels": [
            "Amount & Notes",
            "Amount"
        ]
    },
    {
        "id": "32aaf880cf3b4b25",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Pumping",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "babybuddy",
        "service": "add_pumping",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "sensor.baby_doe"
        ],
        "data": "{ }",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "date"
            },
            {
                "property": "tag",
                "propertyType": "msg",
                "value": "\"pumping_entry\"",
                "valueType": "jsonata"
            }
        ],
        "queue": "none",
        "x": 1120,
        "y": 2340,
        "wires": [
            [
                "010261ffbb28f6b0",
                "5782ebf0137d9874",
                "4149ce895dfd76d8",
                "b115bca8e9ed189c"
            ]
        ]
    },
    {
        "id": "dfd12c1601233481",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 660,
        "y": 2340,
        "wires": [
            [
                "253f9531e8f5f18a"
            ]
        ]
    },
    {
        "id": "4a7325da61ef57e9",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Notes",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_text.bb_notes",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 2280,
        "wires": [
            [
                "3f6a115e4dde2dd6"
            ]
        ]
    },
    {
        "id": "3f6a115e4dde2dd6",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Set Notes",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "notes",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 2280,
        "wires": [
            []
        ]
    },
    {
        "id": "678c8ee960eb3402",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Amount",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "input_number.bb_amount",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 2220,
        "wires": [
            [
                "bd018deaa41270e0"
            ]
        ]
    },
    {
        "id": "7b1da3abf26551cd",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Set Pumping Amount",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "pumping_amount",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 2220,
        "wires": [
            []
        ]
    },
    {
        "id": "bd018deaa41270e0",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "neq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 470,
        "y": 2220,
        "wires": [
            [
                "568ea265d1a27a4e",
                "16aba0cf78fadf50"
            ],
            [
                "568ea265d1a27a4e",
                "16aba0cf78fadf50"
            ],
            [
                "7b1da3abf26551cd",
                "dfd12c1601233481",
                "4a7325da61ef57e9"
            ]
        ]
    },
    {
        "id": "568ea265d1a27a4e",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Error Msg",
        "func": "msg.payload = {\n    data:{\n        \"title\": \"Pumping Details Not Set\",\n        \"message\": \"Pumping entry was submitted with missing details.\",\n        \"data\": {\n            \"actions\": [\n           {\n               \"action\": \"remindMe10minPumping\",\n               \"title\": \"Remind Me (10 min)\"\n            },\n           {\n               \"action\": \"URI\",\n               \"title\": \"Re-Enter\",\n               \"uri\": \"/mobile-h/baby-buddy-pumping\"\n            }\n        ],\n            \"tag\": \"pumping_entry\",\n            \"group\": \"baby-buddy\",\n            \"color\": \"#F70202\",\n            \"notification_icon\": \"mdi:mother-nurse\",\n            \"clickAction\": \"/mobile-h/baby-buddy-pumping\"\n            }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 2100,
        "wires": [
            [
                "0a8a1e7e860dcade"
            ]
        ]
    },
    {
        "id": "db7cc73ccdce966e",
        "type": "server-events",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "Mobile Action Responses",
        "server": "efbeb294.51685",
        "version": 2,
        "eventType": "mobile_app_notification_action",
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 2110,
        "y": 2380,
        "wires": [
            [
                "4e1ac08512c2ca09"
            ]
        ]
    },
    {
        "id": "4e1ac08512c2ca09",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "",
        "property": "payload.event.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "remindMe10minPumping",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2310,
        "y": 2380,
        "wires": [
            [
                "1c8165e0cdbcbe76",
                "80ca5b270ddde0c5"
            ]
        ]
    },
    {
        "id": "80ca5b270ddde0c5",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "John Phone PERSISTENT Clear",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_john_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\t\t\"message\": \"clear_notification\",\t\t\"data\": {\t    \"tag\": \"pumping_entry\"\t    }\t}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2570,
        "y": 2340,
        "wires": [
            [
                "06550ea9e448951c"
            ]
        ]
    },
    {
        "id": "1c8165e0cdbcbe76",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "Jane Phone PERSISTENT Clear",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_jane_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\t\t\"message\": \"clear_notification\",\t\t\"data\": {\t    \"tag\": \"pumping_entry\"\t    }\t}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2580,
        "y": 2380,
        "wires": [
            [
                "06550ea9e448951c"
            ]
        ]
    },
    {
        "id": "06550ea9e448951c",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2830,
        "y": 2380,
        "wires": [
            [
                "c969db5b87201f21"
            ]
        ]
    },
    {
        "id": "c969db5b87201f21",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "link out 15",
        "mode": "link",
        "links": [
            "17b56c067f42cb5d",
            "b701fcb3a599b888"
        ],
        "x": 2935,
        "y": 2380,
        "wires": []
    },
    {
        "id": "010261ffbb28f6b0",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Pumping Flow End",
        "mode": "link",
        "links": [
            "001e87ed538d72c2",
            "2c3e9fadd6122547",
            "596bf95d3c811f2a",
            "90736819c9887fbc",
            "8b53871cbaa37633"
        ],
        "x": 1235,
        "y": 2260,
        "wires": []
    },
    {
        "id": "17b56c067f42cb5d",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "link in 15",
        "links": [
            "c969db5b87201f21"
        ],
        "x": 535,
        "y": 2100,
        "wires": [
            [
                "568ea265d1a27a4e"
            ]
        ]
    },
    {
        "id": "3f7af0d770234c65",
        "type": "comment",
        "z": "b063717f88e1c168",
        "name": "TO-DO List",
        "info": "\n- Clean up TummyTime counters on dashbaord.\nDetermine if counters are the\n`number of times something has been done`\n-or-\n`the total time during TT`.\n`Number of Times` counter can be pulled\nvia the API sequences. HA needs a template\nsensor to use math to add times together.\nThis may be easier to achieve via NodeRed\nusing flowVars.\n\n\n- Modify dashboard for FireTablet\n- Create dashboard for FireTablet mini\n\n- Upgrades for Error Flows\n\nThe use of function nodes and if/else\nstatements may be able to clean up these\nsequences by checking for and validating\nfield input prior to the call-service\nnode.\n\nCombine with multi-output function nodes\nto provide sequence-specific error\nnotifications.",
        "x": 1470,
        "y": 80,
        "wires": [],
        "icon": "font-awesome/fa-list-ul"
    },
    {
        "id": "5a275e3ed6fe0a7c",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 300,
        "wires": [
            [
                "a4d8cb6c1f8f811f",
                "6ad6d021beb859ca"
            ],
            [
                "dc098699d89f5927"
            ]
        ]
    },
    {
        "id": "a4d8cb6c1f8f811f",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "Timer On",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.start_stopwatch"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "date"
            },
            {
                "property": "tag",
                "propertyType": "msg",
                "value": "feeding_persistent",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "x": 400,
        "y": 280,
        "wires": [
            [
                "2addf9b20f14bffb"
            ]
        ]
    },
    {
        "id": "dc098699d89f5927",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "Timer Off",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.start_stopwatch"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "tag",
                "propertyType": "msg",
                "value": "\"timer_entry\"",
                "valueType": "jsonata"
            }
        ],
        "queue": "none",
        "x": 400,
        "y": 320,
        "wires": [
            [
                "6bc12084a3c33f40",
                "49f4afdc24716bf7"
            ]
        ]
    },
    {
        "id": "c7092486ddfd728b",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "Switch",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "switch.baby_doe_timer",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 300,
        "wires": [
            [
                "5a275e3ed6fe0a7c"
            ]
        ]
    },
    {
        "id": "6bc12084a3c33f40",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 540,
        "y": 320,
        "wires": [
            [
                "a30efc668b340227"
            ]
        ]
    },
    {
        "id": "a30efc668b340227",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "Timer Reset",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.reset_stopwatch"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 690,
        "y": 320,
        "wires": [
            [
                "9b4d51356e1b8cd3"
            ]
        ]
    },
    {
        "id": "79f518068c8c2a47",
        "type": "inject",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 540,
        "y": 400,
        "wires": [
            [
                "a30efc668b340227"
            ]
        ]
    },
    {
        "id": "bf80c0545507037d",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Notify",
        "func": "var feedingMethod = flow.get('feeding_method');\nvar feedingType = flow.get('feeding_type');\nvar amount = flow.get('feeding_amount');\nvar notes = flow.get('notes');\n\nif (feedingMethod == \"Bottle\") {\n    msg.payload = {\n        data: {\n            \"title\": \"Feeding Recorded - BabyBuddy \",\n            \"message\": \"Baby had \" + amount.toString() + \" mL of \" + feedingType + \" via a Bottle. \" + notes,\n            \"data\": {\n                \"tag\": \"feeding_entry\",\n                \"group\": \"baby-buddy\",\n                \"color\": \"#253DA1\",\n                \"notification_icon\": \"mdi:mother-nurse\",\n                \"clickAction\": \"/mobile-h/baby-buddy\"\n            }\n        }\n    }\n}\n\nif (feedingMethod != \"Bottle\") {\n    if (feedingType != \"Both breasts\") {\n        msg.payload = {\n            data: {\n                \"title\": \"Feeding Recorded - BabyBuddy \",\n                \"message\": \"The \" + feedingMethod + \" was used to feed Baby. \" + notes,\n                \"data\": {\n                    \"tag\": \"feeding_entry\",\n                    \"group\": \"baby-buddy\",\n                    \"color\": \"#253DA1\",\n                    \"notification_icon\": \"mdi:mother-nurse\",\n                    \"clickAction\": \"/mobile-h/baby-buddy\"\n                }\n            }\n        }\n    }\n    if (feedingType == \"Both breasts\") {\n        msg.payload = {\n            data: {\n                \"title\": \"Feeding Recorded - BabyBuddy \",\n                \"message\": feedingMethod + \" were used to feed Baby. \" + notes,\n                \"data\": {\n                    \"tag\": \"feeding_entry\",\n                    \"group\": \"baby-buddy\",\n                    \"color\": \"#253DA1\",\n                    \"notification_icon\": \"mdi:mother-nurse\",\n                    \"clickAction\": \"/mobile-h/baby-buddy\"\n                }\n            }\n        }\n    }\n}\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1510,
        "y": 1700,
        "wires": [
            [
                "b6b796918d79d7e5"
            ]
        ]
    },
    {
        "id": "902fc4e6ac745fc8",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Wet Notify",
        "func": "var notes = flow.get('notes');\n\nmsg.payload = {\n    data: {\n        \"title\": \"Wet Diaper Change Recorded - BabyBuddy \",\n        \"message\": \"Baby just had a Wet diaper. \" + notes,\n        \"data\": {\n            \"tag\": \"diaper_entry\",\n            \"group\": \"baby-buddy\",\n            \"color\": \"#253DA1\",\n            \"notification_icon\": \"mdi:emoticon-poop\",\n            \"clickAction\": \"/mobile-h/baby-buddy-diaper\",\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 600,
        "wires": [
            [
                "af94aaaa04426685"
            ]
        ]
    },
    {
        "id": "ce93195092ce59d3",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Solid Notify",
        "func": "var diaperType = flow.get('diaper_type');\nvar color = flow.get('diaper_color');\nvar notes = flow.get('notes');\n\nmsg.payload = {\n    data: {\n        \"title\": \"Solid Diaper Change Recorded - BabyBuddy \",\n        \"message\": \"Baby just had a \" + color + \" colored Solid diaper. \" + notes,\n        \"data\": {\n            \"tag\": \"diaper_entry\",\n            \"group\": \"baby-buddy\",\n            \"color\": \"#253DA1\",\n            \"notification_icon\": \"mdi:emoticon-poop\",\n            \"clickAction\": \"/mobile-h/baby-buddy\"\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1470,
        "y": 840,
        "wires": [
            [
                "64ed61c1f4f60599"
            ]
        ]
    },
    {
        "id": "6ad6d021beb859ca",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "Notification",
        "func": "msg.payload = {\n    data: {\n        \"title\": \"BabyBuddy Timer Running\",\n        \"message\": \"Swipe Down to stop timer and record data.\",\n        \"data\": {\n            \"actions\": [\n           {\n                \"action\": \"URI\",\n                \"title\": \"Tummy Time\",\n                \"uri\": \"/mobile-h/baby-buddy-tummy-time\"\n\n            },\n           {\n                \"action\": \"URI\",\n                \"title\": \"Sleep\",\n                \"uri\": \"/mobile-h/baby-buddy-sleep\"\n            },\n            {\n                \"action\": \"URI\",\n                \"title\": \"Feeding\",\n                \"uri\": \"/mobile-h/baby-buddy-feeding\"\n\n            }\n        ],\n            \"tag\": \"timer_entry\",\n            \"group\": \"baby-buddy\",\n            \"color\": \"#253DA1\",\n            \"notification_icon\": \"mdi:timer-sand\",\n            \"clickAction\": \"/mobile-h/baby-buddy\",\n            \"persistent\": true,\n            \"sticky\": true\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 220,
        "wires": [
            [
                "381eb6bbcfe32db5"
            ]
        ]
    },
    {
        "id": "49f4afdc24716bf7",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "link out 17",
        "mode": "link",
        "links": [
            "2c3e9fadd6122547",
            "b23f9d99d41f17fa"
        ],
        "x": 495,
        "y": 360,
        "wires": []
    },
    {
        "id": "40c8ef98037e9f85",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Notify",
        "func": "var amount = flow.get('pumping_amount');\nvar notes = flow.get('notes');\n\n\nmsg.payload = {\n    data: {\n        \"title\": \"Pumping Recorded - BabyBuddy \",\n        \"message\": \"Jane pumped a total of \" + amount.toString() + \"mL. \" + notes,\n        \"data\": {\n            \"tag\": \"pumping_entry\",\n            \"group\": \"baby-buddy\",\n            \"color\": \"#253DA1\",\n            \"notification_icon\": \"mdi:mother-nurse\",\n            \"clickAction\": \"/mobile-h/baby-buddy\"\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 2380,
        "wires": [
            [
                "8d11eba6814dfee0"
            ]
        ]
    },
    {
        "id": "797b6ddc9ac1cab7",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 1460,
        "wires": [
            []
        ]
    },
    {
        "id": "6bb7dbd8b665b36d",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1460,
        "wires": [
            [
                "a52fafe863d7f59f"
            ]
        ]
    },
    {
        "id": "a52fafe863d7f59f",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 1300,
        "y": 1460,
        "wires": [
            [
                "797b6ddc9ac1cab7"
            ]
        ]
    },
    {
        "id": "aa5761fcae9aa172",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "Set Timer Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "timer_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "timer_status",
                "pt": "flow",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 280,
        "wires": [
            [
                "9d90b13f519ddb42"
            ]
        ]
    },
    {
        "id": "2addf9b20f14bffb",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 580,
        "y": 280,
        "wires": [
            [
                "aa5761fcae9aa172"
            ]
        ]
    },
    {
        "id": "ee7a967f41092954",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 2160,
        "wires": [
            []
        ]
    },
    {
        "id": "5d4ece633604af09",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 2160,
        "wires": [
            [
                "b609d8446e990139"
            ]
        ]
    },
    {
        "id": "b609d8446e990139",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 1040,
        "y": 2160,
        "wires": [
            [
                "ee7a967f41092954"
            ]
        ]
    },
    {
        "id": "9b4d51356e1b8cd3",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "Reset Timer Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "timer_timestamp",
                "pt": "flow",
                "to": "0",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "timer_status",
                "pt": "flow",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "60d673045e90bf73",
        "type": "inject",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 220,
        "y": 260,
        "wires": [
            [
                "a4d8cb6c1f8f811f"
            ]
        ]
    },
    {
        "id": "d50acac4336dafd5",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "GH Wet",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_diaper_wet",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 450,
        "y": 680,
        "wires": [
            [
                "012da0b18723a39a"
            ]
        ]
    },
    {
        "id": "a264a60852ea5143",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Set Flow Type",
        "rules": [
            {
                "t": "set",
                "p": "diaper_type",
                "pt": "flow",
                "to": "Solid",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 1020,
        "wires": [
            [
                "4760c7fcf02bc1a9"
            ]
        ]
    },
    {
        "id": "a541f05613e0296c",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Set Flow Color",
        "rules": [
            {
                "t": "set",
                "p": "diaper_color",
                "pt": "flow",
                "to": "color",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 1020,
        "wires": [
            [
                "a264a60852ea5143"
            ]
        ]
    },
    {
        "id": "4760c7fcf02bc1a9",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "link out 18",
        "mode": "link",
        "links": [
            "d3af89ac7970cdfd"
        ],
        "x": 825,
        "y": 1020,
        "wires": []
    },
    {
        "id": "d3af89ac7970cdfd",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "link in 17",
        "links": [
            "4760c7fcf02bc1a9"
        ],
        "x": 895,
        "y": 820,
        "wires": [
            [
                "2df8dbb23ce2be39"
            ]
        ]
    },
    {
        "id": "9366f45ee535abb6",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "GH Solid - Black",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_diaper_solid_black",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "color",
                "propertyType": "msg",
                "value": "Black",
                "valueType": "str"
            }
        ],
        "x": 160,
        "y": 1000,
        "wires": [
            [
                "a541f05613e0296c"
            ]
        ]
    },
    {
        "id": "c8a95298917f8306",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "GH Solid - Brown",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_diaper_solid_brown",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "color",
                "propertyType": "msg",
                "value": "Brown",
                "valueType": "str"
            }
        ],
        "x": 160,
        "y": 1020,
        "wires": [
            [
                "a541f05613e0296c"
            ]
        ]
    },
    {
        "id": "62495ca1951df23d",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "GH Solid - Green",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_diaper_solid_green",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "color",
                "propertyType": "msg",
                "value": "Green",
                "valueType": "str"
            }
        ],
        "x": 160,
        "y": 1040,
        "wires": [
            [
                "a541f05613e0296c"
            ]
        ]
    },
    {
        "id": "9f6931cc8f5e83f0",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "GH Solid - Yellow",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_diaper_solid_yellow",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "color",
                "propertyType": "msg",
                "value": "Yellow",
                "valueType": "str"
            }
        ],
        "x": 160,
        "y": 1060,
        "wires": [
            [
                "a541f05613e0296c"
            ]
        ]
    },
    {
        "id": "3063449542c91a47",
        "type": "comment",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Flow for Google Home",
        "info": "",
        "x": 180,
        "y": 960,
        "wires": []
    },
    {
        "id": "5bac1c2eeb3fb5fd",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Clear Field",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.bb_notes"
        ],
        "data": "{\"value\":\"\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1330,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "68ba8a191f6eae8e",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Reset Diaper Flow Vars",
        "rules": [
            {
                "t": "set",
                "p": "diaper_color",
                "pt": "flow",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "diaper_type",
                "pt": "flow",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notes",
                "pt": "flow",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "96ec60571082b310",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Reset Diaper Vars",
        "links": [
            "822e3fa51e1d7545",
            "cd49a7e3dbb20564",
            "e96484cadd34891a",
            "38b9a60ba7159155",
            "7394987ad83285dd"
        ],
        "x": 1055,
        "y": 1020,
        "wires": [
            [
                "06ca2ae7e99e1aae"
            ]
        ]
    },
    {
        "id": "8e95dd7e92361e5d",
        "type": "comment",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Note",
        "info": "Feeds do NOT require amount.\nBoth type and method are required.\n\nCan use Start and not Stop\nHowever, Start is needed if Stop is used.\n\nNotes optional.",
        "x": 120,
        "y": 1660,
        "wires": []
    },
    {
        "id": "6eecca1e5eee1994",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "58d5846cea742cfd",
        "name": "GH Feeding",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_feeding",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 2070,
        "y": 220,
        "wires": [
            [
                "9f60189df588ba8a"
            ]
        ]
    },
    {
        "id": "9f60189df588ba8a",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "58d5846cea742cfd",
        "name": "function 26",
        "func": "var topic = msg.topic;\n\nif (topic == \"input_button.bb_gh_feeding\") {\n    msg.payload = {\n        data: {\n            \"title\": \"Tap To Record Feeding - BabyBuddy \",\n            \"message\": \" \",\n            \"data\": {\n                \"actions\": [\n                    {\n                    \"action\": \"URI\",\n                    \"title\": \"Enter Feeding Details\",\n                    \"uri\": \"/mobile-h/baby-buddy-feeding\"\n                    }\n                ],\n                \"tag\": \"feeding_entry\",\n                \"group\": \"baby-buddy\",\n                \"color\": \"#253DA1\",\n                \"notification_icon\": \"mdi:mother-nurse\",\n                \"clickAction\": \"/mobile-h/baby-buddy-feeding\",\n                \"persistent\": true,\n                \"sticky\": true\n            }\n        }\n    }\n}\nif (topic == \"input_button.bb_gh_pumping\") {\n    msg.payload = {\n        data: {\n            \"title\": \"Tap To Record Pumping - BabyBuddy \",\n            \"message\": \" \",\n            \"data\": {\n                \"actions\": [\n                    {\n                        \"action\": \"URI\",\n                        \"title\": \"Enter Pumping Details\",\n                        \"uri\": \"/mobile-h/baby-buddy-pumping\"\n                    }\n                ],\n                \"tag\": \"pumping_entry\",\n                \"group\": \"baby-buddy\",\n                \"color\": \"#253DA1\",\n                \"notification_icon\": \"mdi:mother-nurse\",\n                \"clickAction\": \"/mobile-h/baby-buddy-pumping\",\n                \"persistent\": true,\n                \"sticky\": true\n            }\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2250,
        "y": 240,
        "wires": [
            [
                "d60f169c49850e78"
            ]
        ]
    },
    {
        "id": "b545efea6072bc8b",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "58d5846cea742cfd",
        "name": "GH Pumping",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_pumping",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 2070,
        "y": 260,
        "wires": [
            [
                "9f60189df588ba8a"
            ]
        ]
    },
    {
        "id": "d60f169c49850e78",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "58d5846cea742cfd",
        "name": "Set Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2420,
        "y": 240,
        "wires": [
            [
                "ee1da3b2b99f40c3"
            ]
        ]
    },
    {
        "id": "ee1da3b2b99f40c3",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "58d5846cea742cfd",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 2660,
        "y": 240,
        "wires": [
            [
                "455eb229bad3bae6"
            ]
        ]
    },
    {
        "id": "455eb229bad3bae6",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "58d5846cea742cfd",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2880,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "d2671754844a712f",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Timer?",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.baby_doe_timer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1460,
        "wires": [
            [
                "a5547561515b81b1",
                "e866b9e8f52c56b0"
            ]
        ]
    },
    {
        "id": "a5547561515b81b1",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Timer Status",
        "rules": [
            {
                "t": "set",
                "p": "timer_status",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 1460,
        "wires": [
            []
        ]
    },
    {
        "id": "c7a2595dea5d56e8",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Set Timer Status",
        "rules": [
            {
                "t": "set",
                "p": "timer_status",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 2060,
        "wires": [
            []
        ]
    },
    {
        "id": "157afcf80e31db8f",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Timer?",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.baby_doe_timer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 2060,
        "wires": [
            [
                "c7a2595dea5d56e8",
                "8d69826efe9ac3a8"
            ]
        ]
    },
    {
        "id": "8d69826efe9ac3a8",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 2020,
        "wires": [
            [
                "5c052b59f3c99e22",
                "c0347dc82fde07b1"
            ],
            []
        ]
    },
    {
        "id": "428c36ae7d8194d6",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Set Timer Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 2000,
        "wires": [
            [
                "3cf9d442c630bdae"
            ]
        ]
    },
    {
        "id": "3cf9d442c630bdae",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 1120,
        "y": 2000,
        "wires": [
            [
                "0f7717216271aa17"
            ]
        ]
    },
    {
        "id": "0f7717216271aa17",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Set Timer Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "timer_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 2000,
        "wires": [
            []
        ]
    },
    {
        "id": "8abf63da82c4b856",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 2020,
        "wires": [
            [
                "0296569a5d7ab340"
            ]
        ]
    },
    {
        "id": "0296569a5d7ab340",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": "1",
        "adjType": "minutes",
        "adjDir": "subtract",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 1120,
        "y": 2020,
        "wires": [
            [
                "cae131fe85ef7671"
            ]
        ]
    },
    {
        "id": "cae131fe85ef7671",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 2020,
        "wires": [
            []
        ]
    },
    {
        "id": "e866b9e8f52c56b0",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 1400,
        "wires": [
            [
                "ac91cf03b075dd0f",
                "0a94d93e95cc1136"
            ],
            []
        ]
    },
    {
        "id": "6b1826540f4f3aa0",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Timer Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 1380,
        "wires": [
            [
                "c26eefc0d8192d0d"
            ]
        ]
    },
    {
        "id": "c26eefc0d8192d0d",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": "1",
        "adjType": "minutes",
        "adjDir": "subtract",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 1120,
        "y": 1380,
        "wires": [
            [
                "3cba8c211f390db2"
            ]
        ]
    },
    {
        "id": "3cba8c211f390db2",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Timer Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "timer_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "2649e31562aeedd4",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 1400,
        "wires": [
            [
                "8f5d089410e249cb"
            ]
        ]
    },
    {
        "id": "8f5d089410e249cb",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": "0",
        "adjType": "minutes",
        "adjDir": "subtract",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 1120,
        "y": 1400,
        "wires": [
            [
                "70cf0a01a2222048"
            ]
        ]
    },
    {
        "id": "70cf0a01a2222048",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "2fdfb6fe77579c34",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "",
        "property": "error_timestamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 910,
        "y": 1460,
        "wires": [
            [
                "6bb7dbd8b665b36d"
            ]
        ]
    },
    {
        "id": "16aba0cf78fadf50",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "",
        "property": "error_timestamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 2160,
        "wires": [
            [
                "5d4ece633604af09"
            ]
        ]
    },
    {
        "id": "a569c4fe47f0aac5",
        "type": "inject",
        "z": "b063717f88e1c168",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1360,
        "y": 200,
        "wires": [
            [
                "c3da1edde1f04c80"
            ]
        ]
    },
    {
        "id": "c3da1edde1f04c80",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "name": "",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "babybuddy",
        "service": "delete_last_entry",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "sensor.baby_doe"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1570,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "596bf95d3c811f2a",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "Timer Flow Var Reset",
        "links": [
            "0e61547fb848f6b4",
            "010261ffbb28f6b0",
            "eefe834b67301d1c",
            "7f9d7f75e949ea40",
            "53388ae6369bb210",
            "e065a04c84ec7240",
            "f1dc1166a4fe5783",
            "6644b2c4c51beafe"
        ],
        "x": 305,
        "y": 360,
        "wires": [
            [
                "dc098699d89f5927"
            ]
        ]
    },
    {
        "id": "c29a17aa6c4adac1",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "GH Wet/Solid - Black",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_diaper_wet_and_solid_black",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "color",
                "propertyType": "msg",
                "value": "Black",
                "valueType": "str"
            }
        ],
        "x": 180,
        "y": 1120,
        "wires": [
            [
                "a55d7e5a1e412f39"
            ]
        ]
    },
    {
        "id": "95bb8c9167f81120",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "GH Wet/Solid - Brown",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_diaper_wet_and_solid_brown",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "color",
                "propertyType": "msg",
                "value": "Brown",
                "valueType": "str"
            }
        ],
        "x": 180,
        "y": 1140,
        "wires": [
            [
                "a55d7e5a1e412f39"
            ]
        ]
    },
    {
        "id": "62358a2c5e6b559a",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "GH Wet/Solid - Green",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_diaper_wet_and_solid_green",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "color",
                "propertyType": "msg",
                "value": "Green",
                "valueType": "str"
            }
        ],
        "x": 180,
        "y": 1160,
        "wires": [
            [
                "a55d7e5a1e412f39"
            ]
        ]
    },
    {
        "id": "8dab8790c19f1e57",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "GH Wet/Solid - Yellow",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_gh_diaper_wet_and_solid_yellow",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "color",
                "propertyType": "msg",
                "value": "Yellow",
                "valueType": "str"
            }
        ],
        "x": 180,
        "y": 1180,
        "wires": [
            [
                "a55d7e5a1e412f39"
            ]
        ]
    },
    {
        "id": "a55d7e5a1e412f39",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "API",
        "func": "var diaperType = \"Wet and Solid\";\nvar color = msg.color;\n\nmsg.payload = {\n    data: {\n        \"type\": diaperType,\n        \"color\": color\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1140,
        "wires": [
            [
                "f512068190bacb69"
            ]
        ]
    },
    {
        "id": "dc1232a69ebac240",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Reset Feeding Vars",
        "links": [
            "0e61547fb848f6b4",
            "38b9a60ba7159155",
            "7394987ad83285dd"
        ],
        "x": 1175,
        "y": 1760,
        "wires": [
            [
                "cc9956d890799c30"
            ]
        ]
    },
    {
        "id": "7b16e1edc9597ffd",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Reset Feeding Flow Vars",
        "rules": [
            {
                "t": "set",
                "p": "feeding_type",
                "pt": "flow",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "feeding_method",
                "pt": "flow",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "feeding_amount",
                "pt": "flow",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notes",
                "pt": "flow",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "0",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "timer_timestamp",
                "pt": "flow",
                "to": "0",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1490,
        "y": 1760,
        "wires": [
            []
        ]
    },
    {
        "id": "7be2b9f2d4976dbd",
        "type": "http request",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 2550,
        "y": 1020,
        "wires": [
            [
                "c06039fdbb1ffe0d"
            ]
        ]
    },
    {
        "id": "4e1076f69e2f3ead",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "API call",
        "func": "var today = new Date();\nvar date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\nvar url = \"http://10.0.1.25:8888/api/feedings/?start_min=\" + date + \"T00:00:00\";\n\nmsg.headers = {}\nmsg.method = \"GET\"\nmsg.url = url \nmsg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Date for API call: \" + date });\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 1020,
        "wires": [
            [
                "7be2b9f2d4976dbd"
            ]
        ]
    },
    {
        "id": "c06039fdbb1ffe0d",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Create sum from returned array",
        "func": "var flasker = msg.payload.count;\nconst arr = msg.payload.results;\n\nconst sum = arr.reduce((accumulator, object) => {\n    return accumulator + object.amount;\n}, 0);\n\nconsole.log(sum);  \nvar average = Math.round(sum / flasker);\n\nmsg.total = sum;\nmsg.average = average;\nmsg.flasker = flasker;\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Amount: \" + sum + \" mL\" + \", in \" + flasker + \" bottles. \" + \"Avg:\" + average });\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2770,
        "y": 1020,
        "wires": [
            [
                "42a6e81ca48b8aeb"
            ]
        ]
    },
    {
        "id": "42a6e81ca48b8aeb",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Daily Feeding Total",
        "entityConfig": "2a1726fec0915452",
        "version": 0,
        "state": "total",
        "stateType": "msg",
        "attributes": [
            {
                "property": "Daily Bottles",
                "value": "flasker",
                "valueType": "msg"
            },
            {
                "property": "Average Per Bottle",
                "value": "average",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3050,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "262367fd8898c30a",
        "type": "http request",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 2550,
        "y": 1420,
        "wires": [
            [
                "f57b732b6695a10e"
            ]
        ]
    },
    {
        "id": "8785ea8ec2bf9240",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "API call",
        "func": "var today = new Date();\nvar date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\nvar url = \"http://10.0.1.25:8888/api/pumping/?date_min=\" + date + \"T00:00:00\";\n\nmsg.headers = {}\nmsg.method = \"GET\"\nmsg.url = url \nmsg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Date for API call: \" + date });\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 1420,
        "wires": [
            [
                "262367fd8898c30a"
            ]
        ]
    },
    {
        "id": "f57b732b6695a10e",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Create sum from returned array",
        "func": "var flasker = msg.payload.count;\nconst arr = msg.payload.results;\n\nconst sum = arr.reduce((accumulator, object) => {\n    return accumulator + object.amount;\n}, 0);\n\nconsole.log(sum);  \n\nvar average = Math.round(sum / flasker);\n\nmsg.total = sum;\nmsg.average = average;\nmsg.flasker = flasker;\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Amount: \" + sum + \" mL\" + \". Pumped \" + flasker + \" times. \" + \"Avg:\" + average  });\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2770,
        "y": 1420,
        "wires": [
            [
                "34d7bb9cf4d76dd5"
            ]
        ]
    },
    {
        "id": "34d7bb9cf4d76dd5",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Daily Pumping Total",
        "entityConfig": "9b93c096f3eba640",
        "version": 0,
        "state": "total",
        "stateType": "msg",
        "attributes": [
            {
                "property": "Times Pumped",
                "value": "flasker",
                "valueType": "msg"
            },
            {
                "property": "Average Per Pump",
                "value": "average",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3060,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "d205f3956bef0c57",
        "type": "comment",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Feedings",
        "info": "",
        "x": 2180,
        "y": 1020,
        "wires": []
    },
    {
        "id": "4340917e5a1efbf4",
        "type": "comment",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Pumpings",
        "info": "",
        "x": 2180,
        "y": 1420,
        "wires": []
    },
    {
        "id": "a4fc60979263f5ad",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Total Daily Changes",
        "entityConfig": "f712f51a98dffcac",
        "version": 0,
        "state": "total",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3060,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "77d638dd77557c46",
        "type": "comment",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Changes",
        "info": "",
        "x": 2180,
        "y": 1660,
        "wires": []
    },
    {
        "id": "b9461331b029511c",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Daily Wet Diapers",
        "entityConfig": "8995f25bc509b7d9",
        "version": 0,
        "state": "wet",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3050,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "bb2408de26d98c4f",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Daily Solid Diapers",
        "entityConfig": "5b0f1e35b743284b",
        "version": 0,
        "state": "solid",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3050,
        "y": 1640,
        "wires": [
            []
        ]
    },
    {
        "id": "21330d2434335343",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "John Phone PERSISTENT Clear",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_john_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\t\t\"message\": \"clear_notification\",\t\t\"data\": {\t    \"tag\": $.tag\t    }\t}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2250,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "3deb7288bb6a9976",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "Jane Phone PERSISTENT Clear",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_jane_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\t\t\"message\": \"clear_notification\",\t\t\"data\": {\t    \"tag\": $.tag\t    }\t}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2260,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "2c3e9fadd6122547",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "Clear Persistent Notifications",
        "links": [
            "822e3fa51e1d7545",
            "49f4afdc24716bf7",
            "0e61547fb848f6b4",
            "010261ffbb28f6b0",
            "e96484cadd34891a",
            "9d90b13f519ddb42",
            "7f9d7f75e949ea40",
            "53388ae6369bb210",
            "e065a04c84ec7240",
            "f1dc1166a4fe5783",
            "6644b2c4c51beafe"
        ],
        "x": 2005,
        "y": 560,
        "wires": [
            [
                "21330d2434335343",
                "3deb7288bb6a9976"
            ]
        ]
    },
    {
        "id": "3c0bb9bc6d054734",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "Notify John",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_john_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2390,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "806914d405dba6b0",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "Notify Jane",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_jane_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2190,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "8b55f5f81cdd6fce",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "Notify John & Jane",
        "links": [
            "af94aaaa04426685",
            "b78e8ec42d6720ea",
            "64ed61c1f4f60599",
            "e04d6368df7865df",
            "6d7a13f8e4b3e53a",
            "f734c8d13fc36fb4",
            "381eb6bbcfe32db5",
            "f6955813f59dd201",
            "b6b796918d79d7e5",
            "9b2204b51151dde6",
            "0a8a1e7e860dcade",
            "8d11eba6814dfee0",
            "de40cfb6c085ee1f",
            "ba70e49e67051d65",
            "eefe834b67301d1c",
            "9bfaa4c6ee8f2c66",
            "d90bf49975f9df3a",
            "a6e6d8950191a59c",
            "b638f611b5650460",
            "62f61b81f8d62c97",
            "71b83599c5b608d3",
            "5ddd48f245d19d7b",
            "914c05106fd04827",
            "3857cee5761943d4",
            "330e11b0cb3b04f5"
        ],
        "x": 2005,
        "y": 460,
        "wires": [
            [
                "806914d405dba6b0",
                "14b28d990df3354a"
            ]
        ]
    },
    {
        "id": "af94aaaa04426685",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "link out 20",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 1085,
        "y": 600,
        "wires": []
    },
    {
        "id": "b78e8ec42d6720ea",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "link out 21",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 1055,
        "y": 740,
        "wires": []
    },
    {
        "id": "64ed61c1f4f60599",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Diaper Flow End (2s delay)",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 1575,
        "y": 840,
        "wires": []
    },
    {
        "id": "381eb6bbcfe32db5",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "link out 25",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 545,
        "y": 220,
        "wires": []
    },
    {
        "id": "f6955813f59dd201",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "link out 26",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 2385,
        "y": 2020,
        "wires": []
    },
    {
        "id": "b6b796918d79d7e5",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "link out 27",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 1595,
        "y": 1700,
        "wires": []
    },
    {
        "id": "9b2204b51151dde6",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "link out 28",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 875,
        "y": 1500,
        "wires": []
    },
    {
        "id": "0a8a1e7e860dcade",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "link out 29",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 755,
        "y": 2100,
        "wires": []
    },
    {
        "id": "8d11eba6814dfee0",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "link out 30",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 1505,
        "y": 2380,
        "wires": []
    },
    {
        "id": "3901602d75770936",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1320,
        "y": 840,
        "wires": [
            [
                "ce93195092ce59d3"
            ]
        ]
    },
    {
        "id": "4bdd807bacd551c0",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1380,
        "y": 1700,
        "wires": [
            [
                "bf80c0545507037d"
            ]
        ]
    },
    {
        "id": "cc9956d890799c30",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1280,
        "y": 1760,
        "wires": [
            [
                "7b16e1edc9597ffd"
            ]
        ]
    },
    {
        "id": "5782ebf0137d9874",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1280,
        "y": 2380,
        "wires": [
            [
                "40c8ef98037e9f85"
            ]
        ]
    },
    {
        "id": "06ca2ae7e99e1aae",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1180,
        "y": 1020,
        "wires": [
            [
                "68ba8a191f6eae8e"
            ]
        ]
    },
    {
        "id": "368f73f7381b77b4",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Reset Pumping Flow Vars",
        "rules": [
            {
                "t": "set",
                "p": "pumping_amount",
                "pt": "flow",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notes",
                "pt": "flow",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "0",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "timer_timestamp",
                "pt": "flow",
                "to": "0",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1490,
        "y": 2440,
        "wires": [
            []
        ]
    },
    {
        "id": "737d94c7ba80c911",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1280,
        "y": 2440,
        "wires": [
            [
                "368f73f7381b77b4"
            ]
        ]
    },
    {
        "id": "90736819c9887fbc",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Reset Pumping Vars",
        "links": [
            "010261ffbb28f6b0",
            "f8452d0462df8199",
            "38b9a60ba7159155",
            "7394987ad83285dd"
        ],
        "x": 1175,
        "y": 2440,
        "wires": [
            [
                "737d94c7ba80c911"
            ]
        ]
    },
    {
        "id": "4149ce895dfd76d8",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Clear Field",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.bb_notes"
        ],
        "data": "{\"value\":\"\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1290,
        "y": 2340,
        "wires": [
            []
        ]
    },
    {
        "id": "ca3baeedc6a34760",
        "type": "inject",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Midnight Reset",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 00 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2200,
        "y": 880,
        "wires": [
            [
                "f8452d0462df8199"
            ]
        ]
    },
    {
        "id": "f8452d0462df8199",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "link out 32",
        "mode": "link",
        "links": [
            "001e87ed538d72c2",
            "1bfd6f61155dd9c3",
            "8120f5ee90e4fb65",
            "90f2732419094ec2",
            "beb9dddb4d2fb42f",
            "3b234b717be70339",
            "50c31efed7f16984",
            "90736819c9887fbc"
        ],
        "x": 2375,
        "y": 880,
        "wires": []
    },
    {
        "id": "beb9dddb4d2fb42f",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "BB Feedings API",
        "links": [
            "38b9a60ba7159155",
            "f8452d0462df8199",
            "0e61547fb848f6b4",
            "871a60996d9d79ac",
            "7394987ad83285dd"
        ],
        "x": 2255,
        "y": 1020,
        "wires": [
            [
                "4e1076f69e2f3ead",
                "1a2690e3da8e77c5",
                "a1a889c202e7ca3c"
            ]
        ]
    },
    {
        "id": "001e87ed538d72c2",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "BB Pumpings API",
        "links": [
            "38b9a60ba7159155",
            "f8452d0462df8199",
            "010261ffbb28f6b0",
            "4c2e7abe0c7b3ea4",
            "7f9d7f75e949ea40",
            "53388ae6369bb210",
            "7394987ad83285dd"
        ],
        "x": 2265,
        "y": 1420,
        "wires": [
            [
                "8785ea8ec2bf9240"
            ]
        ]
    },
    {
        "id": "90f2732419094ec2",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "BB Changes API",
        "links": [
            "38b9a60ba7159155",
            "f8452d0462df8199",
            "822e3fa51e1d7545",
            "2689ec149c087e9e",
            "7394987ad83285dd"
        ],
        "x": 2265,
        "y": 1660,
        "wires": [
            [
                "6ed4dd223991dea6",
                "c0bd65fc59452bb0"
            ]
        ]
    },
    {
        "id": "f512068190bacb69",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Diaper Change",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "babybuddy",
        "service": "add_diaper_change",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "sensor.baby_doe"
        ],
        "data": "{ }",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "date"
            },
            {
                "property": "tag",
                "propertyType": "msg",
                "value": "\"diaper_entry\"",
                "valueType": "jsonata"
            }
        ],
        "queue": "none",
        "x": 640,
        "y": 1140,
        "wires": [
            [
                "e96484cadd34891a",
                "8b2ae1696564beb3"
            ]
        ]
    },
    {
        "id": "e96484cadd34891a",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "link out 33",
        "mode": "link",
        "links": [
            "eacd0bbb23735c94",
            "96ec60571082b310",
            "2c3e9fadd6122547",
            "446cd2e39ede653d"
        ],
        "x": 925,
        "y": 1100,
        "wires": []
    },
    {
        "id": "8b2ae1696564beb3",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "Solid Notify",
        "func": "var color = msg.color;\n\nmsg.payload = {\n    data: {\n        \"title\": \"Wet & Solid Diaper Change Recorded - BabyBuddy \",\n        \"message\": \"Baby just had a Wet and Solid \" + color + \" diaper.\",\n        \"data\": {\n            \"tag\": \"diaper_entry\",\n            \"group\": \"baby-buddy\",\n            \"color\": \"#253DA1\",\n            \"notification_icon\": \"mdi:emoticon-poop\",\n            \"clickAction\": \"/mobile-h/baby-buddy\"\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 1160,
        "wires": [
            [
                "ba70e49e67051d65"
            ]
        ]
    },
    {
        "id": "ba70e49e67051d65",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "link out 34",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 925,
        "y": 1160,
        "wires": []
    },
    {
        "id": "b115bca8e9ed189c",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Clear Field",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_number",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_number.bb_amount"
        ],
        "data": "{\t    \"value\":0\t}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1290,
        "y": 2300,
        "wires": [
            []
        ]
    },
    {
        "id": "fe1cfc9a1ed48c3a",
        "type": "http request",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 2550,
        "y": 1160,
        "wires": [
            [
                "bc1408eebc9cf319"
            ]
        ]
    },
    {
        "id": "08a2d8aa1facb4fd",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Bottle Counts (Night)",
        "entityConfig": "4c22dcf6e34f0321",
        "version": 0,
        "state": "flasker",
        "stateType": "msg",
        "attributes": [
            {
                "property": "Total in mL",
                "value": "total",
                "valueType": "msg"
            },
            {
                "property": "Average Per Bottle",
                "value": "average",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3060,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "bc1408eebc9cf319",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Create sum from returned array",
        "func": "var flasker = msg.payload.count;\nconst arr = msg.payload.results;\n\nconst sum = arr.reduce((accumulator, object) => {\n    return accumulator + object.amount;\n}, 0);\n\nconsole.log(sum);  \nvar average = Math.round(sum/flasker);\n\nmsg.total = sum;\nmsg.average = average;\nmsg.flasker = flasker;\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Amount: \"+sum+\" mL\"+\", in \"+flasker+\" bottles. \"+\"Avg:\"+average });\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2770,
        "y": 1160,
        "wires": [
            [
                "ab805352365232c0"
            ]
        ]
    },
    {
        "id": "576d7e9880a15610",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Create sum from returned array",
        "func": "var flasker = msg.payload.count;\nconst arr = msg.payload.results;\n\nconst sum = arr.reduce((accumulator, object) => {\n    return accumulator + object.amount;\n}, 0);\n\nconsole.log(sum);  \nvar average = Math.round(sum / flasker);\n\nmsg.total = sum;\nmsg.average = average;\nmsg.flasker = flasker;\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Amount: \" + sum + \" mL\" + \", in \" + flasker + \" bottles. \" + \"Avg:\" + average });\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2770,
        "y": 1240,
        "wires": [
            [
                "08a2d8aa1facb4fd"
            ]
        ]
    },
    {
        "id": "ab805352365232c0",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Bottle Counts (Day)",
        "entityConfig": "14acdab4eda02458",
        "version": 0,
        "state": "flasker",
        "stateType": "msg",
        "attributes": [
            {
                "property": "Total in mL",
                "value": "total",
                "valueType": "msg"
            },
            {
                "property": "Average Per Bottle",
                "value": "average",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3050,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "7015c8b1d6ff7604",
        "type": "http request",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 2550,
        "y": 1240,
        "wires": [
            [
                "576d7e9880a15610"
            ]
        ]
    },
    {
        "id": "bba7f7511d590e76",
        "type": "comment",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Day/Night Bottle Totals",
        "info": "Total bottle counts, volumes, and averages\nseparated by day and night.",
        "x": 2140,
        "y": 1200,
        "wires": []
    },
    {
        "id": "9a3154a6a4f314bd",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "link out 35",
        "mode": "link",
        "links": [
            "1bfd6f61155dd9c3"
        ],
        "x": 2475,
        "y": 980,
        "wires": []
    },
    {
        "id": "1bfd6f61155dd9c3",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "BB Bottles API",
        "links": [
            "38b9a60ba7159155",
            "9a3154a6a4f314bd",
            "f8452d0462df8199",
            "0e61547fb848f6b4",
            "871a60996d9d79ac",
            "7394987ad83285dd"
        ],
        "x": 2265,
        "y": 1200,
        "wires": [
            [
                "a2fede17aa141b89"
            ]
        ]
    },
    {
        "id": "a1a889c202e7ca3c",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2380,
        "y": 980,
        "wires": [
            [
                "9a3154a6a4f314bd"
            ]
        ]
    },
    {
        "id": "7cdd61c9d0301ca0",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "",
        "property": "error_timestamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 290,
        "y": 1460,
        "wires": [
            [
                "d2671754844a712f"
            ]
        ]
    },
    {
        "id": "eefe834b67301d1c",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "58d5846cea742cfd",
        "name": "link out 36",
        "mode": "link",
        "links": [
            "596bf95d3c811f2a",
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 3015,
        "y": 240,
        "wires": []
    },
    {
        "id": "2a84bbb969ba046e",
        "type": "debug",
        "z": "b063717f88e1c168",
        "name": "debug 93",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 510,
        "y": 2360,
        "wires": []
    },
    {
        "id": "a2fede17aa141b89",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "API call",
        "func": "var today = new Date();\nvar date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\nvar prevDate = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + (today.getDate() -1);\nvar hours = today.getHours();\nvar dayUrl = \"http://10.0.1.25:8888/api/feedings/?start_min=\" + date + \"T08:00:00&start_max=\" + date + \"T20:00:00\";\nvar nightUrl = \"http://10.0.1.25:8888/api/feedings/?start_min=\" + prevDate + \"T20:00:00&start_max=\" + date + \"T08:00:00\";\n\nif (hours >= 8 && hours < 20) {\n    msg.headers = {}\n    msg.method = \"GET\"\n    msg.url = dayUrl\n    msg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\n    node.status({ fill: \"green\", shape: \"dot\", text: \"Daytime Update\" });\n\n    return [msg, null];\n}\nelse {\n    msg.headers = {}\n    msg.method = \"GET\"\n    msg.url = nightUrl\n    msg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\n    node.status({ fill: \"green\", shape: \"dot\", text: \"Nighttime Update\" });\n\n    return [null, msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 1200,
        "wires": [
            [
                "fe1cfc9a1ed48c3a"
            ],
            [
                "7015c8b1d6ff7604"
            ]
        ],
        "outputLabels": [
            "Day",
            "Night"
        ]
    },
    {
        "id": "1a2690e3da8e77c5",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "API call",
        "func": "var today = new Date();\nvar date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\nvar prevDate = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + (today.getDate() -1);\nvar hours = today.getHours();\nvar minutes = today.getMinutes();\nvar seconds = today.getSeconds();\nvar hh = (\"0\" + hours).slice(-2);\nvar mm = (\"0\" + minutes).slice(-2);\nvar ss = (\"0\" + seconds).slice(-2);\nvar currentTime = \"T\"+hh+\":\"+mm+\":\"+ss;\nvar url = \"http://10.0.1.25:8888/api/feedings/?start_min=\" + prevDate + currentTime + \"&start_max=\" + date + currentTime;\n\nmsg.headers = {}\nmsg.method = \"GET\"\nmsg.url = url \n\nmsg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Rolling 24h Average: \" + date });\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 1080,
        "wires": [
            [
                "9b7c79e5e1708089"
            ]
        ]
    },
    {
        "id": "9b7c79e5e1708089",
        "type": "http request",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 2550,
        "y": 1080,
        "wires": [
            [
                "4a7cc27475efda94"
            ]
        ]
    },
    {
        "id": "4a7cc27475efda94",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Create sum from returned array",
        "func": "var flasker = msg.payload.count;\nconst arr = msg.payload.results;\n\nconst sum = arr.reduce((accumulator, object) => {\n    return accumulator + object.amount;\n}, 0);\n\nconsole.log(sum);  \nvar average = Math.round(sum / flasker);\n\nmsg.total = sum;\nmsg.average = average;\nmsg.flasker = flasker;\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Amount: \" + sum + \" mL\" + \", in \" + flasker + \" bottles. \" + \"Avg:\" + average });\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2770,
        "y": 1080,
        "wires": [
            [
                "a0647242a034422e"
            ]
        ]
    },
    {
        "id": "a0647242a034422e",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "24 Hour Amount Per Feeding",
        "entityConfig": "e0af85d10d71c442",
        "version": 0,
        "state": "average",
        "stateType": "msg",
        "attributes": [
            {
                "property": "Bottles",
                "value": "flasker",
                "valueType": "msg"
            },
            {
                "property": "24 Hour Total",
                "value": "amount",
                "valueType": "str"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3080,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "446cd2e39ede653d",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "aebb7d929f606069",
        "name": "link in 22",
        "links": [
            "e96484cadd34891a"
        ],
        "x": 1195,
        "y": 840,
        "wires": [
            [
                "3901602d75770936"
            ]
        ]
    },
    {
        "id": "f2ae26738d335b2d",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "API call (temp)",
        "func": "var today = new Date();\nvar date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\nvar prevDate = today.getFullYear() + '-' + \"1\" + '-' + \"31\";\nvar hours = today.getHours();\nvar minutes = today.getMinutes();\nvar seconds = today.getSeconds();\nvar hh = (\"0\" + hours).slice(-2);\nvar mm = (\"0\" + minutes).slice(-2);\nvar ss = (\"0\" + seconds).slice(-2);\nvar currentTime = \"T\"+hh+\":\"+mm+\":\"+ss;\nvar url = \"http://10.0.1.25:8888/api/feedings/?start_min=\" + prevDate + currentTime + \"&start_max=\" + date + currentTime;\n\nmsg.headers = {}\nmsg.method = \"GET\"\nmsg.url = url \n\nmsg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Rolling 24h Average: \" + date });\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2080,
        "y": 1800,
        "wires": [
            []
        ]
    },
    {
        "id": "a1c01c3a5193aac6",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "API call (temp)",
        "func": "var today = new Date();\nvar date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\nvar prevDate = today.getFullYear() + '-' + \"1\" + '-' + \"31\";\nvar dayUrl = \"http://10.0.1.25:8888/api/feedings/?start_min=\" + date + \"T08:00:00&start_max=\" + date + \"T20:00:00\";\nvar nightUrl = \"http://10.0.1.25:8888/api/feedings/?start_min=\" + prevDate + \"T20:00:00&start_max=\" + date + \"T08:00:00\";\n\nif (today.getHours() >= 8 && today.getHours() < 20) {\n    msg.headers = {}\n    msg.method = \"GET\"\n    msg.url = dayUrl\n    msg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\n    node.status({ fill: \"green\", shape: \"dot\", text: \"Date for API call: \" + date });\n\n    return [msg, null];\n}\nelse {\n    msg.headers = {}\n    msg.method = \"GET\"\n    msg.url = nightUrl\n    msg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\n    node.status({ fill: \"green\", shape: \"dot\", text: \"Dates for API call: \" + prevDate + \" - \" + date });\n\n    return [null, msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2080,
        "y": 1820,
        "wires": [
            [],
            []
        ],
        "outputLabels": [
            "Day",
            "Night"
        ]
    },
    {
        "id": "6ed4dd223991dea6",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "API call",
        "func": "var today = new Date();\nvar date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\nvar url = \"http://10.0.1.25:8888/api/changes/?date_min=\" + date + \"T00:00:00\";\n\nmsg.headers = {}\nmsg.method = \"GET\"\nmsg.url = url \nmsg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Date for API call: \" + date });\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 1580,
        "wires": [
            [
                "3824a2ced153017e"
            ]
        ]
    },
    {
        "id": "3824a2ced153017e",
        "type": "http request",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 2550,
        "y": 1580,
        "wires": [
            [
                "e52ab1db7f75588b"
            ]
        ]
    },
    {
        "id": "e52ab1db7f75588b",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Create sum from returned array",
        "func": "var count = msg.payload.count;\nvar wet = msg.payload.results;\nvar solid = msg.payload.results;\n\nconst sumWet = wet.reduce((accumulator, object) => {\n    return accumulator + object.wet;\n}, 0);\n\nconst sumSolid = wet.reduce((accumulator, object) => {\n    return accumulator + object.solid;\n}, 0);\n\nconsole.log(count);  \n\nmsg.total = count;\nmsg.count = count;\nmsg.wet = sumWet;\nmsg.solid = sumSolid;\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Changes: \"+count});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2770,
        "y": 1580,
        "wires": [
            [
                "a4fc60979263f5ad",
                "b9461331b029511c",
                "bb2408de26d98c4f"
            ]
        ]
    },
    {
        "id": "c0bd65fc59452bb0",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "API call",
        "func": "var today = new Date();\nvar date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\nvar prevDate = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + (today.getDate() - 1);\nvar hours = today.getHours();\nvar minutes = today.getMinutes();\nvar seconds = today.getSeconds();\nvar hh = (\"0\" + hours).slice(-2);\nvar mm = (\"0\" + minutes).slice(-2);\nvar ss = (\"0\" + seconds).slice(-2);\nvar currentTime = \"T\"+hh+\":\"+mm+\":\"+ss;\nvar url = \"http://10.0.1.25:8888/api/changes/?date_min=\" + prevDate + currentTime + \"&date_max=\" + date + currentTime;\n\nmsg.headers = {}\nmsg.method = \"GET\"\nmsg.url = url \n\nmsg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Rolling 24h Average: \" + date });\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 1740,
        "wires": [
            [
                "dfa12d06536a571f"
            ]
        ]
    },
    {
        "id": "dfa12d06536a571f",
        "type": "http request",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 2550,
        "y": 1740,
        "wires": [
            [
                "f2a735a3bb755375"
            ]
        ]
    },
    {
        "id": "96051e24970b8794",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "24 Hour Diaper Average",
        "entityConfig": "a2950969f8d7bbff",
        "version": 0,
        "state": "total",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3070,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "f2a735a3bb755375",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Create sum from returned array",
        "func": "var count = msg.payload.count;\nvar wet = msg.payload.results;\nvar solid = msg.payload.results;\n\nconst sumWet = wet.reduce((accumulator, object) => {\n    return accumulator + object.wet;\n}, 0);\n\nconst sumSolid = wet.reduce((accumulator, object) => {\n    return accumulator + object.solid;\n}, 0);\n\nconsole.log(count);  \n\nmsg.total = count;\nmsg.count = count;\nmsg.wet = sumWet;\nmsg.solid = sumSolid;\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Changes: \"+count});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2770,
        "y": 1740,
        "wires": [
            [
                "96051e24970b8794",
                "52672f29ee6ddc69",
                "da955a1f4d0e5996"
            ]
        ]
    },
    {
        "id": "da955a1f4d0e5996",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "24 Hour Wet Diaper Average",
        "entityConfig": "39cc9424072454c2",
        "version": 0,
        "state": "wet",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3080,
        "y": 1740,
        "wires": [
            []
        ]
    },
    {
        "id": "52672f29ee6ddc69",
        "type": "ha-sensor",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "24 Hour Solid Diaper Average",
        "entityConfig": "f05bf9780314f705",
        "version": 0,
        "state": "solid",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 3090,
        "y": 1800,
        "wires": [
            []
        ]
    },
    {
        "id": "1045c72dafaac4c5",
        "type": "comment",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "1st Of The Month",
        "info": "Keep for 1st of the month API calls since\ncurrent javascript does not take month\nchanges into account on the first of the month.",
        "x": 2080,
        "y": 1780,
        "wires": []
    },
    {
        "id": "e1ee5999b669531f",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "API call (temp)",
        "func": "var today = new Date();\nvar date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\nvar prevDate = today.getFullYear() + '-' + \"1\" + '-' + \"31\";\nvar hours = today.getHours();\nvar minutes = today.getMinutes();\nvar seconds = today.getSeconds();\nvar hh = (\"0\" + hours).slice(-2);\nvar mm = (\"0\" + minutes).slice(-2);\nvar ss = (\"0\" + seconds).slice(-2);\nvar currentTime = \"T\"+hh+\":\"+mm+\":\"+ss;\nvar url = \"http://10.0.1.25:8888/api/changes/?date_min=\" + prevDate + currentTime + \"&date_max=\" + date + currentTime;\n\nmsg.headers = {}\nmsg.method = \"GET\"\nmsg.url = url \n\nmsg.headers['Authorization'] = 'Token 07cad935ec79e68b7011a671a39a4f3094f99cd4';\n\nnode.status({ fill: \"green\", shape: \"dot\", text: \"Rolling 24h Average: \" + date });\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2080,
        "y": 1840,
        "wires": [
            []
        ]
    },
    {
        "id": "ca8ad5905fed16d1",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "Last Feeding",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.baby_doe_last_feeding",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3350,
        "y": 980,
        "wires": [
            [
                "871a60996d9d79ac"
            ]
        ]
    },
    {
        "id": "871a60996d9d79ac",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "link out 38",
        "mode": "link",
        "links": [
            "1bfd6f61155dd9c3",
            "50c31efed7f16984",
            "beb9dddb4d2fb42f"
        ],
        "x": 3585,
        "y": 1000,
        "wires": []
    },
    {
        "id": "f9d4de9d84e1ad0b",
        "type": "inject",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Overnight Total",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "58 07 * * *",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2180,
        "y": 1240,
        "wires": [
            [
                "a2fede17aa141b89"
            ]
        ]
    },
    {
        "id": "4c2e7abe0c7b3ea4",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "link out 39",
        "mode": "link",
        "links": [
            "001e87ed538d72c2"
        ],
        "x": 3585,
        "y": 1180,
        "wires": []
    },
    {
        "id": "30a2f73096dee751",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "Last Pumping",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.baby_doe_last_pumping",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3350,
        "y": 1180,
        "wires": [
            [
                "4c2e7abe0c7b3ea4"
            ]
        ]
    },
    {
        "id": "ee85d4f3817c3ac0",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "Last Change",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.baby_doe_last_change",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3350,
        "y": 1340,
        "wires": [
            [
                "2689ec149c087e9e"
            ]
        ]
    },
    {
        "id": "2689ec149c087e9e",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "link out 40",
        "mode": "link",
        "links": [
            "90f2732419094ec2"
        ],
        "x": 3585,
        "y": 1400,
        "wires": []
    },
    {
        "id": "f8c71f31b910e159",
        "type": "comment",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "BabyBuddy Triggers",
        "info": "",
        "x": 3390,
        "y": 880,
        "wires": []
    },
    {
        "id": "51aa7901014415a4",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Midnight Reset Vitamin D",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.probiotic_vitamin_d"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1490,
        "y": 1800,
        "wires": [
            []
        ]
    },
    {
        "id": "8120f5ee90e4fb65",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Probiotic/Vitamin D",
        "links": [
            "f8452d0462df8199",
            "2211070bf353c791",
            "7394987ad83285dd",
            "38b9a60ba7159155"
        ],
        "x": 1325,
        "y": 1800,
        "wires": [
            [
                "51aa7901014415a4"
            ]
        ]
    },
    {
        "id": "0e9ead6ad39b7dc6",
        "type": "debug",
        "z": "b063717f88e1c168",
        "g": "01c9b058fcc6afb3",
        "name": "debug 99",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2190,
        "y": 2060,
        "wires": []
    },
    {
        "id": "fa3fb83ed235a2eb",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "",
        "property": "error_timestamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 290,
        "y": 2060,
        "wires": [
            [
                "157afcf80e31db8f"
            ]
        ]
    },
    {
        "id": "ac91cf03b075dd0f",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "46300616a8925dbb",
        "name": "Check Var",
        "property": "error_timestamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 690,
        "y": 1400,
        "wires": [
            [],
            [
                "2649e31562aeedd4"
            ]
        ]
    },
    {
        "id": "5c052b59f3c99e22",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Check Var",
        "property": "error_timestamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 690,
        "y": 2020,
        "wires": [
            [],
            [
                "8abf63da82c4b856"
            ]
        ]
    },
    {
        "id": "368d7bea39cc6c31",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "Notify Jane",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_jane_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2790,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "50c31efed7f16984",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "Feeding - Persistent Notification",
        "links": [
            "871a60996d9d79ac",
            "f8452d0462df8199"
        ],
        "x": 2005,
        "y": 660,
        "wires": [
            [
                "a67172b2e6c94d3d"
            ]
        ]
    },
    {
        "id": "a67172b2e6c94d3d",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "Last Feeding",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.last_feeding_time_humanized",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2190,
        "y": 660,
        "wires": [
            [
                "46ef69478d414afd"
            ]
        ]
    },
    {
        "id": "1c3bfe80380ebffb",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "Feeding Persistent",
        "func": "var time = msg.time;\nvar duration = msg.duration;\nvar amount = msg.amount;\n\nmsg.payload = {\n    data: {\n        \"title\": \"Last Feeding: \" + time,\n        \"message\": \"Amount: \" + amount + \"mL\",\n        \"data\": {\n            \"tag\": \"feeding_persistent\",\n            \"color\": \"#253DA1\",\n            \"notification_icon\": \"mdi:baby-bottle\",\n            \"clickAction\": \"/mobile-h/baby-buddy\",\n            \"persistent\": true,\n            \"sticky\": true\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2590,
        "y": 660,
        "wires": [
            [
                "368d7bea39cc6c31",
                "482b3c0e88e937ee"
            ]
        ]
    },
    {
        "id": "46ef69478d414afd",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "time",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "humanized",
                "pt": "msg",
                "to": "data.attributes.Humanized",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "duration",
                "pt": "msg",
                "to": "data.attributes.Duration",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "amount",
                "pt": "msg",
                "to": "data.attributes.Amount",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2380,
        "y": 660,
        "wires": [
            [
                "1c3bfe80380ebffb"
            ]
        ]
    },
    {
        "id": "3ddabba0babe5960",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "Notify John",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_john_s_phone",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 3010,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "254b55e61df4e9dd",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "Feeding Humanized",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.last_feeding_time_humanized",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3370,
        "y": 940,
        "wires": [
            [
                "871a60996d9d79ac"
            ]
        ]
    },
    {
        "id": "4a708b9fdc31e6eb",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "Pumping Humanized",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.last_pumping_time_humanized",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3380,
        "y": 1140,
        "wires": [
            [
                "4c2e7abe0c7b3ea4"
            ]
        ]
    },
    {
        "id": "afd23f745098f2a3",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "Changing Humanized",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.last_diaper_change_humanized",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3380,
        "y": 1300,
        "wires": [
            [
                "2689ec149c087e9e"
            ]
        ]
    },
    {
        "id": "9d90b13f519ddb42",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "link out 44",
        "mode": "link",
        "links": [
            "2c3e9fadd6122547",
            "b23f9d99d41f17fa"
        ],
        "x": 945,
        "y": 280,
        "wires": []
    },
    {
        "id": "21ef84f3962b6a71",
        "type": "inject",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "tag",
                "v": "feeding_persistent",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 840,
        "y": 240,
        "wires": [
            [
                "9d90b13f519ddb42"
            ]
        ]
    },
    {
        "id": "b0a314279fc73dc0",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "LF End",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.lf_end",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3330,
        "y": 1020,
        "wires": [
            [
                "871a60996d9d79ac"
            ]
        ]
    },
    {
        "id": "c62b81838e55c424",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "LF Amount",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.lf_amount",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3340,
        "y": 1060,
        "wires": [
            [
                "871a60996d9d79ac"
            ]
        ]
    },
    {
        "id": "f7c5b811b26266a4",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "LP Time",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.lp_time",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3340,
        "y": 1220,
        "wires": [
            [
                "4c2e7abe0c7b3ea4"
            ]
        ]
    },
    {
        "id": "7c7760a39d9f22c4",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "LC Time",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.lc_time",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3340,
        "y": 1380,
        "wires": [
            [
                "2689ec149c087e9e"
            ]
        ]
    },
    {
        "id": "15d7a9046b096324",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "LC Wet",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.lc_wet",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3330,
        "y": 1420,
        "wires": [
            [
                "2689ec149c087e9e"
            ]
        ]
    },
    {
        "id": "ee657eaa7687247a",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "LC Solid",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.lc_solid",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3340,
        "y": 1460,
        "wires": [
            [
                "2689ec149c087e9e"
            ]
        ]
    },
    {
        "id": "f572a679e18b6055",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "LC Color",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.lc_color",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3340,
        "y": 1500,
        "wires": [
            [
                "2689ec149c087e9e"
            ]
        ]
    },
    {
        "id": "c1aedd160aeb7b19",
        "type": "inject",
        "z": "b063717f88e1c168",
        "g": "b933e23ade7bbd21",
        "name": "Daytime Total",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "58 19 * * *",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2180,
        "y": 1260,
        "wires": [
            [
                "a2fede17aa141b89"
            ]
        ]
    },
    {
        "id": "482b3c0e88e937ee",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "John Not Working?",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "calendar.bell",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2810,
        "y": 640,
        "wires": [
            [
                "3ddabba0babe5960"
            ],
            []
        ]
    },
    {
        "id": "14b28d990df3354a",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "9f3b7f9c759a73e8",
        "name": "John Not Working?",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "calendar.bell",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2210,
        "y": 440,
        "wires": [
            [
                "3c0bb9bc6d054734"
            ],
            []
        ]
    },
    {
        "id": "ac806476f2f86867",
        "type": "comment",
        "z": "b063717f88e1c168",
        "g": "4dc53514fd3adfe6",
        "name": "Remove",
        "info": "Timer is redundant. API doesn't need\nstart/stop times. This can be simplified\nto a new `pumping_time` flow variable.",
        "x": 410,
        "y": 2000,
        "wires": []
    },
    {
        "id": "f837e9774eb38621",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Notes",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_text.bb_notes",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 2780,
        "wires": [
            [
                "287bba357d5793b5"
            ]
        ]
    },
    {
        "id": "287bba357d5793b5",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Set Notes",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "notes",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 2780,
        "wires": [
            []
        ]
    },
    {
        "id": "fe783d0ee65329c4",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "API",
        "func": "var timerStatus = flow.get('timer_status')\nvar notes = flow.get('notes');\nvar timerTimestamp = flow.get('timer_timestamp');\nvar errorTimestamp = flow.get('error_timestamp');\n\nif (timerStatus == \"on\") {\n    if (errorTimestamp == \"0\") {\n        msg.payload = {\n            data: {\n                \"timer\": true,\n                \"notes\": notes\n            }\n        }\n    }\n    if (errorTimestamp != \"0\") {\n        msg.payload = {\n            data: {\n                \"start\": timerTimestamp,\n                \"end\": errorTimestamp,\n                \"notes\": notes\n            }\n        }\n    }\n    return [msg, null];\n}\nif (timerStatus == \"off\") {\n    msg.payload = {\n        data: {\n            \"start\": timerTimestamp,\n            \"end\": errorTimestamp,\n            \"notes\": notes\n        }\n    }\n    return [null, msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 2860,
        "wires": [
            [
                "9bd4d8ed66afda4e"
            ],
            [
                "9bd4d8ed66afda4e"
            ]
        ],
        "outputLabels": [
            "Timer On",
            "Timer Off"
        ]
    },
    {
        "id": "9bd4d8ed66afda4e",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Sleep",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "babybuddy",
        "service": "add_sleep",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.baby_doe_timer"
        ],
        "data": "{ }",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "date"
            },
            {
                "property": "tag",
                "propertyType": "msg",
                "value": "\"feeding_entry\"",
                "valueType": "jsonata"
            }
        ],
        "queue": "none",
        "x": 590,
        "y": 2860,
        "wires": [
            [
                "e065a04c84ec7240",
                "40b85e8b86567f01",
                "10e7ebe54b281083"
            ]
        ]
    },
    {
        "id": "e065a04c84ec7240",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Sleep Flow End",
        "mode": "link",
        "links": [
            "2672461a79583841",
            "2c3e9fadd6122547",
            "596bf95d3c811f2a"
        ],
        "x": 775,
        "y": 2860,
        "wires": []
    },
    {
        "id": "7499ae753def552c",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Sleep",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_sleep",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 2780,
        "wires": [
            [
                "f837e9774eb38621",
                "e952d4a24eca33c3",
                "ae2f8a27173fc2ac"
            ]
        ]
    },
    {
        "id": "42b7d572f678f04e",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Notify",
        "func": "var dusk = global.get(\"duskEPO\");\nvar dawn = global.get(\"dawnEPO\");\n\nfunction epoch(date) {\n    return Date.parse(date) / 1000\n}\n\nconst dateToday = new Date()\nconst rightNow = epoch(dateToday)\n\nvar sleepDuration = msg.sleep_duration;\n\nif (rightNow >= dusk && rightNow <= dawn) {\n    msg.payload = {\n        data: {\n            \"title\": \"Sleep Recorded - BabyBuddy \",\n            \"message\": \"Baby slept for \" + sleepDuration + \".\",\n            \"data\": {\n                \"tag\": \"sleep_entry\",\n                \"group\": \"baby-buddy\",\n                \"color\": \"#253DA1\",\n                \"notification_icon\": \"mdi:bed\",\n                \"clickAction\": \"/mobile-h/baby-buddy\"\n            }\n        }\n    }\n    return msg;\n}\nelse {\n    msg.payload = {\n        data: {\n            \"title\": \"Nap Recorded - BabyBuddy \",\n            \"message\": \"Baby napped for \" + sleepDuration + \".\",\n            \"data\": {\n                \"tag\": \"sleep_entry\",\n                \"group\": \"baby-buddy\",\n                \"color\": \"#253DA1\",\n                \"notification_icon\": \"mdi:bed\",\n                \"clickAction\": \"/mobile-h/baby-buddy\"\n            }\n        }\n    }\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1250,
        "y": 2900,
        "wires": [
            [
                "71b83599c5b608d3"
            ]
        ]
    },
    {
        "id": "a39073d6222d5445",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Timer?",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.baby_doe_timer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 2720,
        "wires": [
            [
                "1b93a1f3d8b0bb34",
                "7ca944b964406b6e"
            ]
        ]
    },
    {
        "id": "1b93a1f3d8b0bb34",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Set Timer Status",
        "rules": [
            {
                "t": "set",
                "p": "timer_status",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 2720,
        "wires": [
            []
        ]
    },
    {
        "id": "7ca944b964406b6e",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 2660,
        "wires": [
            [
                "44d8bf126c23dc45",
                "bca9743d1657fb10"
            ],
            []
        ]
    },
    {
        "id": "00769993c27b5dc9",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Set Timer Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 2640,
        "wires": [
            [
                "2087d6bf69bf6e60"
            ]
        ]
    },
    {
        "id": "2087d6bf69bf6e60",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": "1",
        "adjType": "minutes",
        "adjDir": "subtract",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 1140,
        "y": 2640,
        "wires": [
            [
                "742f8c02874e653a"
            ]
        ]
    },
    {
        "id": "742f8c02874e653a",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Set Timer Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "timer_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 2640,
        "wires": [
            []
        ]
    },
    {
        "id": "58ec5995963cd8a7",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 2660,
        "wires": [
            [
                "de6bba9ced0c2625"
            ]
        ]
    },
    {
        "id": "de6bba9ced0c2625",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": "0",
        "adjType": "minutes",
        "adjDir": "subtract",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 1140,
        "y": 2660,
        "wires": [
            [
                "be9f320c9e70f552"
            ]
        ]
    },
    {
        "id": "be9f320c9e70f552",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 2660,
        "wires": [
            []
        ]
    },
    {
        "id": "2672461a79583841",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Reset Sleep Vars",
        "links": [
            "e065a04c84ec7240",
            "38b9a60ba7159155",
            "7394987ad83285dd"
        ],
        "x": 595,
        "y": 2940,
        "wires": [
            [
                "4332887b059ee5cf"
            ]
        ]
    },
    {
        "id": "a8af55d3ee6d12d4",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Reset Sleep Flow Vars",
        "rules": [
            {
                "t": "set",
                "p": "notes",
                "pt": "flow",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "0",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "timer_timestamp",
                "pt": "flow",
                "to": "0",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 2940,
        "wires": [
            []
        ]
    },
    {
        "id": "71b83599c5b608d3",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "link out 51",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 1345,
        "y": 2900,
        "wires": []
    },
    {
        "id": "40b85e8b86567f01",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 820,
        "y": 2900,
        "wires": [
            [
                "f27c205eef988571"
            ]
        ]
    },
    {
        "id": "4332887b059ee5cf",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 700,
        "y": 2940,
        "wires": [
            [
                "a8af55d3ee6d12d4"
            ]
        ]
    },
    {
        "id": "e952d4a24eca33c3",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "",
        "property": "error_timestamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 2720,
        "wires": [
            [
                "a39073d6222d5445"
            ]
        ]
    },
    {
        "id": "44d8bf126c23dc45",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Check Var",
        "property": "error_timestamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 2660,
        "wires": [
            [],
            [
                "58ec5995963cd8a7"
            ]
        ]
    },
    {
        "id": "ae2f8a27173fc2ac",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 320,
        "y": 2860,
        "wires": [
            [
                "fe783d0ee65329c4"
            ]
        ]
    },
    {
        "id": "10e7ebe54b281083",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Clear Field",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.bb_notes"
        ],
        "data": "{\"value\":\"\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 830,
        "y": 2820,
        "wires": [
            []
        ]
    },
    {
        "id": "fd1cc6af1a84f3ef",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "link in 31",
        "links": [
            "739abddffc0c56c8"
        ],
        "x": 165,
        "y": 2740,
        "wires": [
            [
                "e952d4a24eca33c3",
                "f837e9774eb38621",
                "ae2f8a27173fc2ac"
            ]
        ]
    },
    {
        "id": "879607bf2ebad645",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "LS Duration",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.ls_duration",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3350,
        "y": 1660,
        "wires": [
            [
                "29999460f1078d89"
            ]
        ]
    },
    {
        "id": "36641767cb2f0d6e",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "LS End",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.ls_end",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3330,
        "y": 1620,
        "wires": [
            [
                "29999460f1078d89"
            ]
        ]
    },
    {
        "id": "a5893c811790eb0c",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "LS Start",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.ls_start",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 3340,
        "y": 1580,
        "wires": [
            [
                "29999460f1078d89"
            ]
        ]
    },
    {
        "id": "29999460f1078d89",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "link out 53",
        "mode": "link",
        "links": [],
        "x": 3585,
        "y": 1620,
        "wires": []
    },
    {
        "id": "11c7a26201a7dad7",
        "type": "comment",
        "z": "b063717f88e1c168",
        "g": "e84c9c81258a1cb8",
        "name": "Note",
        "info": "Created in anticipation of needing\nthem in the future. No use for them yet.",
        "x": 3330,
        "y": 1680,
        "wires": []
    },
    {
        "id": "f27c205eef988571",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Sleep Info",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.last_sleep_time_humanized",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 960,
        "y": 2900,
        "wires": [
            [
                "4c1485808be45773"
            ]
        ]
    },
    {
        "id": "4c1485808be45773",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "f0a5b4f955443269",
        "name": "Set Info",
        "rules": [
            {
                "t": "set",
                "p": "wake_time",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "wake_time_humanized",
                "pt": "msg",
                "to": "data.attributes[\"Woke Up\"]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "sleep_duration",
                "pt": "msg",
                "to": "data.attributes.Duration",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 2900,
        "wires": [
            [
                "42b7d572f678f04e"
            ]
        ]
    },
    {
        "id": "d142d540aae11720",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Notes",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_text.bb_milestone",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 3280,
        "wires": [
            [
                "f37aca0bf20189bd"
            ]
        ]
    },
    {
        "id": "f37aca0bf20189bd",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Set Milestone",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "milestone",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 3280,
        "wires": [
            []
        ]
    },
    {
        "id": "ed3c7cbe402d78c8",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "API",
        "func": "var timerStatus = flow.get('timer_status')\nvar milestone = flow.get('milestone');\nvar timerTimestamp = flow.get('timer_timestamp');\nvar errorTimestamp = flow.get('error_timestamp');\n\nif (timerStatus == \"on\") {\n    if (errorTimestamp == \"0\") {\n        msg.payload = {\n            data: {\n                \"timer\": true,\n                \"milestone\": milestone\n            }\n        }\n    }\n    if (errorTimestamp != \"0\") {\n        msg.payload = {\n            data: {\n                \"start\": timerTimestamp,\n                \"end\": errorTimestamp,\n                \"milestone\": milestone\n            }\n        }\n    }\n    return [msg, null];\n}\nif (timerStatus == \"off\") {\n    msg.payload = {\n        data: {\n            \"start\": timerTimestamp,\n            \"end\": errorTimestamp,\n            \"milestone\": milestone\n        }\n    }\n    return [null, msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 3360,
        "wires": [
            [
                "4e27bc08f9ca1482"
            ],
            [
                "4e27bc08f9ca1482"
            ]
        ],
        "outputLabels": [
            "Timer On",
            "Timer Off"
        ]
    },
    {
        "id": "4e27bc08f9ca1482",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Tummy Time",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "babybuddy",
        "service": "add_tummy_time",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.baby_doe_timer"
        ],
        "data": "{ }",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "date"
            },
            {
                "property": "tag",
                "propertyType": "msg",
                "value": "\"feeding_entry\"",
                "valueType": "jsonata"
            }
        ],
        "queue": "none",
        "x": 610,
        "y": 3360,
        "wires": [
            [
                "6644b2c4c51beafe",
                "6f1b52cbab62e858",
                "91fa7ed81c919487"
            ]
        ]
    },
    {
        "id": "6644b2c4c51beafe",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Sleep Flow End",
        "mode": "link",
        "links": [
            "178f21d4510475a6",
            "2c3e9fadd6122547",
            "596bf95d3c811f2a"
        ],
        "x": 775,
        "y": 3360,
        "wires": []
    },
    {
        "id": "c623a816ef11932a",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Tummy Time",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.bb_tummy_time",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 3280,
        "wires": [
            [
                "d142d540aae11720",
                "b57abc8dead62031",
                "e23054df9587ae9e"
            ]
        ]
    },
    {
        "id": "ca48f2de29b6330a",
        "type": "function",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Notify",
        "func": "var dusk = global.get(\"duskEPO\");\nvar dawn = global.get(\"dawnEPO\");\n\nfunction epoch(date) {\n    return Date.parse(date) / 1000\n}\n\nconst dateToday = new Date()\nconst rightNow = epoch(dateToday)\n\nvar ttDuration = msg.tt_duration;\nvar milestone = flow.get(\"milestone\");;\n\nif (milestone == \"0\") {\n    msg.payload = {\n        data: {\n            \"title\": \"Tummy Time Recorded - BabyBuddy \",\n            \"message\": \"Baby had \" + ttDuration + \" of tummy time.\",\n            \"data\": {\n                \"tag\": \"tummy_time_entry\",\n                \"group\": \"baby-buddy\",\n                \"color\": \"#253DA1\",\n                \"notification_icon\": \"mdi:bed\",\n                \"clickAction\": \"/mobile-h/baby-buddy\"\n            }\n        }\n    }\n    return msg;\n}\nelse {\n    msg.payload = {\n        data: {\n            \"title\": \"New Milestone Achieved During Tummy Time!\",\n            \"message\": \"Horray! Baby \" + milestone + \" over \" + ttDuration + \"!\",\n            \"data\": {\n                \"tag\": \"tummy_time_milestone_entry\",\n                \"group\": \"baby-buddy\",\n                \"color\": \"#253DA1\",\n                \"notification_icon\": \"mdi:bed\",\n                \"clickAction\": \"/mobile-h/baby-buddy\"\n            }\n        }\n    }\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 3400,
        "wires": [
            [
                "3857cee5761943d4"
            ]
        ]
    },
    {
        "id": "6ae9659e202410a2",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Timer?",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.baby_doe_timer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 3220,
        "wires": [
            [
                "54cb2ea1fd054759",
                "fbb0e1cb7c65f9d1"
            ]
        ]
    },
    {
        "id": "54cb2ea1fd054759",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Set Timer Status",
        "rules": [
            {
                "t": "set",
                "p": "timer_status",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 3220,
        "wires": [
            []
        ]
    },
    {
        "id": "fbb0e1cb7c65f9d1",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 3160,
        "wires": [
            [
                "95836378529ecfb8",
                "d3ee9ff85cf93528"
            ],
            []
        ]
    },
    {
        "id": "2598b267204e8a18",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Set Timer Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 3140,
        "wires": [
            [
                "1a81b7e3cd7ab97e"
            ]
        ]
    },
    {
        "id": "1a81b7e3cd7ab97e",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": "1",
        "adjType": "minutes",
        "adjDir": "subtract",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 1140,
        "y": 3140,
        "wires": [
            [
                "f387e7554029a867"
            ]
        ]
    },
    {
        "id": "f387e7554029a867",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Set Timer Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "timer_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 3140,
        "wires": [
            []
        ]
    },
    {
        "id": "018725449cb4273e",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 3160,
        "wires": [
            [
                "0bc205f3b9c9eb71"
            ]
        ]
    },
    {
        "id": "0bc205f3b9c9eb71",
        "type": "moment",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "America/Chicago",
        "adjAmount": "0",
        "adjType": "minutes",
        "adjDir": "subtract",
        "format": "YYYY-MM-DD[T]HH:mm:ss.SSSSSSZ",
        "locale": "C",
        "output": "payload",
        "outputType": "msg",
        "outTz": "America/Chicago",
        "x": 1140,
        "y": 3160,
        "wires": [
            [
                "eefc89fb320ebe5b"
            ]
        ]
    },
    {
        "id": "eefc89fb320ebe5b",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Set Error Timestamp",
        "rules": [
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 3160,
        "wires": [
            []
        ]
    },
    {
        "id": "178f21d4510475a6",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Reset Tummy Time Vars",
        "links": [
            "6644b2c4c51beafe",
            "38b9a60ba7159155",
            "7394987ad83285dd"
        ],
        "x": 595,
        "y": 3440,
        "wires": [
            [
                "a12a1528148a54ed"
            ]
        ]
    },
    {
        "id": "19c39d38dc2271a1",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Reset Tummy Time Flow Vars",
        "rules": [
            {
                "t": "set",
                "p": "milestone",
                "pt": "flow",
                "to": "0",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "error_timestamp",
                "pt": "flow",
                "to": "0",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "timer_timestamp",
                "pt": "flow",
                "to": "0",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 3440,
        "wires": [
            []
        ]
    },
    {
        "id": "3857cee5761943d4",
        "type": "link out",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "link out 54",
        "mode": "link",
        "links": [
            "8b55f5f81cdd6fce",
            "fa88d1a64e9ac7a1"
        ],
        "x": 1235,
        "y": 3400,
        "wires": []
    },
    {
        "id": "a12a1528148a54ed",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 700,
        "y": 3440,
        "wires": [
            [
                "19c39d38dc2271a1"
            ]
        ]
    },
    {
        "id": "b57abc8dead62031",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "",
        "property": "error_timestamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 3220,
        "wires": [
            [
                "6ae9659e202410a2"
            ]
        ]
    },
    {
        "id": "95836378529ecfb8",
        "type": "switch",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Check Var",
        "property": "error_timestamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 3160,
        "wires": [
            [],
            [
                "018725449cb4273e"
            ]
        ]
    },
    {
        "id": "e23054df9587ae9e",
        "type": "delay",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 320,
        "y": 3360,
        "wires": [
            [
                "ed3c7cbe402d78c8"
            ]
        ]
    },
    {
        "id": "6f1b52cbab62e858",
        "type": "api-call-service",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Clear Field",
        "server": "efbeb294.51685",
        "version": 5,
        "debugenabled": false,
        "domain": "input_text",
        "service": "set_value",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_text.bb_milestone"
        ],
        "data": "{\"value\":\"\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 830,
        "y": 3320,
        "wires": [
            []
        ]
    },
    {
        "id": "2ac94fc6d5d52fb0",
        "type": "link in",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "link in 33",
        "links": [
            "696e60ffa632263c"
        ],
        "x": 165,
        "y": 3240,
        "wires": [
            [
                "b57abc8dead62031",
                "d142d540aae11720",
                "e23054df9587ae9e"
            ]
        ]
    },
    {
        "id": "91fa7ed81c919487",
        "type": "api-current-state",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Tummy Time Info",
        "server": "efbeb294.51685",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.last_tummy_time_humanized",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 850,
        "y": 3400,
        "wires": [
            [
                "bc2b629fc929b12e"
            ]
        ]
    },
    {
        "id": "bc2b629fc929b12e",
        "type": "change",
        "z": "b063717f88e1c168",
        "g": "9c108cd9aef78e7d",
        "name": "Set Info",
        "rules": [
            {
                "t": "set",
                "p": "wake_time",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "wake_time_humanized",
                "pt": "msg",
                "to": "data.attributes[\"Woke Up\"]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "tt_duration",
                "pt": "msg",
                "to": "data.attributes.Duration",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 3400,
        "wires": [
            [
                "ca48f2de29b6330a"
            ]
        ]
    },
    {
        "id": "7d4332b62f76f434",
        "type": "inject",
        "z": "b063717f88e1c168",
        "g": "58c106fac32b5e9d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 260,
        "y": 200,
        "wires": [
            [
                "6ad6d021beb859ca"
            ]
        ]
    },
    {
        "id": "397194fa2ddeda31",
        "type": "server-state-changed",
        "z": "b063717f88e1c168",
        "name": "Node-RED Refresh",
        "server": "efbeb294.51685",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_button.nodered_reset",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 210,
        "y": 80,
        "wires": [
            [
                "7394987ad83285dd"
            ]
        ]
    },
    {
        "id": "7394987ad83285dd",
        "type": "link out",
        "z": "b063717f88e1c168",
        "name": "NodeRed Refresh",
        "mode": "link",
        "links": [
            "001e87ed538d72c2",
            "178f21d4510475a6",
            "1bfd6f61155dd9c3",
            "2672461a79583841",
            "8120f5ee90e4fb65",
            "90736819c9887fbc",
            "90f2732419094ec2",
            "96ec60571082b310",
            "beb9dddb4d2fb42f",
            "dc1232a69ebac240"
        ],
        "x": 405,
        "y": 80,
        "wires": []
    },
    {
        "id": "efbeb294.51685",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": true,
        "rejectUnauthorizedCerts": true,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": false,
        "heartbeatInterval": "30",
        "areaSelector": "friendlyName",
        "deviceSelector": "friendlyName",
        "entitySelector": "friendlyName",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    },
    {
        "id": "2a1726fec0915452",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "Total Daily Feeding Amount",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Total Daily Feeding Amount"
            },
            {
                "property": "icon",
                "value": "mdi:baby-bottle-outline"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "9b93c096f3eba640",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "Total Daily Pumping Amount",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Total Daily Pumping Amount"
            },
            {
                "property": "icon",
                "value": "mdi:mother-nurse"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "f712f51a98dffcac",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "Total Daily Changes",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Total Daily Changes"
            },
            {
                "property": "icon",
                "value": "mdi:emoticon-poop"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "8995f25bc509b7d9",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "Total Wet Diapers",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Daily Wet Diapers"
            },
            {
                "property": "icon",
                "value": "mdi:emoticon-poop"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "5b0f1e35b743284b",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "Total Solid Diapers",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Daily Solid Diapers"
            },
            {
                "property": "icon",
                "value": "mdi:emoticon-poop"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "4c22dcf6e34f0321",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "Bottle Counts Night",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Bottle Counts (Night)"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "14acdab4eda02458",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "Bottle Counts Day",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "Bottle Counts (Day)"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "e0af85d10d71c442",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "24 Hour Feeding Average",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "24 Hour Feeding Average"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "volume"
            },
            {
                "property": "unit_of_measurement",
                "value": "mL"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "a2950969f8d7bbff",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "24 Hour Diaper Average",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "24 Hour Diaper Average"
            },
            {
                "property": "icon",
                "value": "mdi:emoticon-poop"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "39cc9424072454c2",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "24 Hour Wet Diaper Average",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "24 Hour Wet Diaper Average"
            },
            {
                "property": "icon",
                "value": "mdi:emoticon-poop"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "f05bf9780314f705",
        "type": "ha-entity-config",
        "server": "efbeb294.51685",
        "deviceConfig": "febe5349e87eefd6",
        "name": "24 Hour Solid Diaper Average",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "24 Hour Solid Diaper Average"
            },
            {
                "property": "icon",
                "value": "mdi:emoticon-poop"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "febe5349e87eefd6",
        "type": "ha-device-config",
        "name": "BabyBuddy NR API Calls",
        "hwVersion": "",
        "manufacturer": "Node-RED",
        "model": "",
        "swVersion": ""
    }
]
